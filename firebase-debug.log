[debug] [2023-09-05T23:23:56.120Z] ----------------------------------------------------------------------
[debug] [2023-09-05T23:23:56.122Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\CraigM\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2023-09-05T23:23:56.122Z] CLI Version:   12.4.6
[debug] [2023-09-05T23:23:56.122Z] Platform:      win32
[debug] [2023-09-05T23:23:56.122Z] Node Version:  v18.16.0
[debug] [2023-09-05T23:23:56.123Z] Time:          Tue Sep 05 2023 16:23:56 GMT-0700 (Pacific Daylight Time)
[debug] [2023-09-05T23:23:56.123Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-09-05T23:23:56.174Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-09-05T23:23:56.175Z] > authorizing via signed-in user (craigm26@gmail.com)
[debug] [2023-09-05T23:23:56.175Z] [iam] checking project bikebus-71dd5 for permissions ["cloudconfig.configs.get","cloudconfig.configs.update","cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create",null]
[debug] [2023-09-05T23:23:56.177Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions [none]
[debug] [2023-09-05T23:23:56.177Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:23:56.177Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["cloudconfig.configs.get","cloudconfig.configs.update","cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create",null]}
[debug] [2023-09-05T23:23:56.433Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions 200
[debug] [2023-09-05T23:23:56.434Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["cloudconfig.configs.get","cloudconfig.configs.update","cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2023-09-05T23:23:56.434Z] [iam] error while checking permissions, command may fail: FirebaseError: Authorization failed. This account is missing the following required permissions on project bikebus-71dd5:

  
[debug] [2023-09-05T23:23:56.434Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/bikebus-71dd5/serviceAccounts/bikebus-71dd5@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-09-05T23:23:56.434Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/bikebus-71dd5/serviceAccounts/bikebus-71dd5@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-09-05T23:23:56.670Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/bikebus-71dd5/serviceAccounts/bikebus-71dd5@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-09-05T23:23:56.670Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/bikebus-71dd5/serviceAccounts/bikebus-71dd5@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-09-05T23:23:56.671Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:23:56.915Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:23:56.915Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[debug] [2023-09-05T23:23:56.916Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:23:57.134Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:23:57.135Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[info] 
[info] === Deploying to 'bikebus-71dd5'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting, remoteconfig, extensions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[info] Running command: npm run build
[info] +  hosting: Finished running predeploy script. 
[info] i  database: checking rules syntax... 
[debug] [2023-09-05T23:24:41.776Z] >>> [apiv2][query] GET https://firebasedatabase.googleapis.com/v1beta/projects/bikebus-71dd5/locations/-/instances/bikebus-71dd5-default-rtdb [none]
[debug] [2023-09-05T23:24:42.240Z] <<< [apiv2][status] GET https://firebasedatabase.googleapis.com/v1beta/projects/bikebus-71dd5/locations/-/instances/bikebus-71dd5-default-rtdb 200
[debug] [2023-09-05T23:24:42.241Z] <<< [apiv2][body] GET https://firebasedatabase.googleapis.com/v1beta/projects/bikebus-71dd5/locations/-/instances/bikebus-71dd5-default-rtdb {"name":"projects/787807444789/locations/us-central1/instances/bikebus-71dd5-default-rtdb","project":"projects/787807444789","databaseUrl":"https://bikebus-71dd5-default-rtdb.firebaseio.com","type":"DEFAULT_DATABASE","state":"ACTIVE"}
[debug] [2023-09-05T23:24:42.243Z] >>> [apiv2][query] PUT https://bikebus-71dd5-default-rtdb.firebaseio.com/.settings/rules.json dryRun=true
[debug] [2023-09-05T23:24:42.243Z] >>> [apiv2][body] PUT https://bikebus-71dd5-default-rtdb.firebaseio.com/.settings/rules.json "{\r\n  \"rules\": {\r\n    \".read\": \"auth != null\",\r\n    \".write\": \"auth != null\",\r\n    \"userLocations\": {\r\n      \"$uid\": {\r\n        \".write\": \"$uid === auth.uid\"\r\n      }\r\n    }\r\n  }\r\n}\r\n"
[debug] [2023-09-05T23:24:42.542Z] <<< [apiv2][status] PUT https://bikebus-71dd5-default-rtdb.firebaseio.com/.settings/rules.json 200
[debug] [2023-09-05T23:24:42.542Z] <<< [apiv2][body] PUT https://bikebus-71dd5-default-rtdb.firebaseio.com/.settings/rules.json {"status":"ok"}
[info] +  database: rules syntax for database bikebus-71dd5-default-rtdb is valid 
[debug] [2023-09-05T23:24:42.543Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:24:42.886Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:24:42.886Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2023-09-05T23:24:42.890Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test [none]
[debug] [2023-09-05T23:24:42.890Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test [omitted]
[debug] [2023-09-05T23:24:43.189Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test 200
[debug] [2023-09-05T23:24:43.189Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test {}
[info] +  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2023-09-05T23:24:43.204Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test [none]
[debug] [2023-09-05T23:24:43.204Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test [omitted]
[debug] [2023-09-05T23:24:43.486Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test 200
[debug] [2023-09-05T23:24:43.487Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/bikebus-71dd5:test {}
[info] +  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2023-09-05T23:24:43.489Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:24:43.904Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:24:43.904Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-09-05T23:24:43.909Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudfunctions.googleapis.com [none]
[debug] [2023-09-05T23:24:43.909Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:43.910Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/runtimeconfig.googleapis.com [none]
[debug] [2023-09-05T23:24:43.911Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:43.912Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudbuild.googleapis.com [none]
[debug] [2023-09-05T23:24:43.912Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudbuild.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:43.912Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/artifactregistry.googleapis.com [none]
[debug] [2023-09-05T23:24:43.913Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/artifactregistry.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:44.574Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudfunctions.googleapis.com 200
[debug] [2023-09-05T23:24:44.574Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-09-05T23:24:44.591Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudbuild.googleapis.com 200
[debug] [2023-09-05T23:24:44.591Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-09-05T23:24:44.602Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/artifactregistry.googleapis.com 200
[debug] [2023-09-05T23:24:44.602Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-09-05T23:24:44.620Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/runtimeconfig.googleapis.com 200
[debug] [2023-09-05T23:24:44.620Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-09-05T23:24:44.621Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5/adminSdkConfig [none]
[debug] [2023-09-05T23:24:44.862Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5/adminSdkConfig 200
[debug] [2023-09-05T23:24:44.862Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5/adminSdkConfig {"projectId":"bikebus-71dd5","databaseURL":"https://bikebus-71dd5-default-rtdb.firebaseio.com","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"}
[debug] [2023-09-05T23:24:44.863Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bikebus-71dd5/configs [none]
[debug] [2023-09-05T23:24:45.217Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bikebus-71dd5/configs 200
[debug] [2023-09-05T23:24:45.217Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/bikebus-71dd5/configs {}
[debug] [2023-09-05T23:24:45.219Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2023-09-05T23:24:46.576Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@sendgrid/mail": "^7.7.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.4.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.0.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2023-09-05T23:24:46.576Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2023-09-05T23:24:46.578Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-09-05T23:24:46.588Z] Found firebase-functions binary at 'C:\Users\CraigM\source\repos\bike-bus\node_modules\.bin\firebase-functions'
[info] Serving at port 8471

[debug] [2023-09-05T23:24:47.328Z] Got response from /__/functions.yaml {"endpoints":{"sendInviteEmail":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","eventFilters":{"resource":"projects/bikebus-71dd5/databases/(default)/documents/bikebusgroups/{groupId}"},"retry":false},"labels":{},"entryPoint":"sendInviteEmail"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\CraigM\source\repos\bike-bus\functions (86.43 KB) for uploading 
[debug] [2023-09-05T23:24:47.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/bikebus-71dd5/locations/-/functions [none]
[debug] [2023-09-05T23:24:47.961Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/bikebus-71dd5/locations/-/functions 200
[debug] [2023-09-05T23:24:47.961Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/bikebus-71dd5/locations/-/functions {"functions":[{"name":"projects/bikebus-71dd5/locations/us-central1/functions/sendInviteEmail","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.update","resource":"projects/bikebus-71dd5/databases/(default)/documents/bikebusgroups/{groupId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendInviteEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"bikebus-71dd5@appspot.gserviceaccount.com","updateTime":"2023-08-08T22:51:00.418Z","versionId":"15","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"956257e08d32c4b9826238ce1b0218df13b20282"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-866282389045.us-central1.cloudfunctions.appspot.com/c4919db3-675e-4037-8cc3-691cdc149364.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"bikebus-71dd5\",\"databaseURL\":\"https://bikebus-71dd5-default-rtdb.firebaseio.com\",\"storageBucket\":\"bikebus-71dd5.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"bikebus-71dd5","EVENTARC_CLOUD_EVENT_SOURCE":"projects/bikebus-71dd5/locations/us-central1/functions/sendInviteEmail"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"ec9a93e7-6b78-498f-a9ad-3cec0f69b436","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/787807444789/locations/us-central1/builds/ec9a93e7-6b78-498f-a9ad-3cec0f69b436","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-09-05T23:24:47.962Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/bikebus-71dd5/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-09-05T23:24:48.449Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/bikebus-71dd5/locations/-/functions 200
[debug] [2023-09-05T23:24:48.450Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/bikebus-71dd5/locations/-/functions {}
[debug] [2023-09-05T23:24:48.458Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:24:48.701Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:24:48.701Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[debug] [2023-09-05T23:24:48.704Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/bikebus-71dd5/versions [none]
[debug] [2023-09-05T23:24:48.704Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/bikebus-71dd5/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2023-09-05T23:24:49.552Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/bikebus-71dd5/versions 200
[debug] [2023-09-05T23:24:49.552Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/bikebus-71dd5/versions {"name":"projects/787807444789/sites/bikebus-71dd5/versions/131c70abbd674aea","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2023-09-05T23:24:49.555Z] >>> [apiv2][query] GET https://firebaseremoteconfig.googleapis.com/v1/projects/787807444789/remoteConfig 
[debug] [2023-09-05T23:24:50.041Z] <<< [apiv2][status] GET https://firebaseremoteconfig.googleapis.com/v1/projects/787807444789/remoteConfig 200
[debug] [2023-09-05T23:24:50.041Z] <<< [apiv2][body] GET https://firebaseremoteconfig.googleapis.com/v1/projects/787807444789/remoteConfig {"version":{"versionNumber":"638","updateTime":"2023-09-05T20:22:14.656139Z","updateUser":{"email":"craigm26@gmail.com"},"updateOrigin":"REST_API","updateType":"INCREMENTAL_UPDATE"}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2023-09-05T23:24:50.042Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/firebaseextensions.googleapis.com [none]
[debug] [2023-09-05T23:24:50.043Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:50.573Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/firebaseextensions.googleapis.com 200
[debug] [2023-09-05T23:24:50.573Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/firebaseextensions.googleapis.com [omitted]
[info] +  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2023-09-05T23:24:50.574Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-09-05T23:24:50.574Z] > authorizing via signed-in user (craigm26@gmail.com)
[debug] [2023-09-05T23:24:50.574Z] [iam] checking project bikebus-71dd5 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2023-09-05T23:24:50.574Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions [none]
[debug] [2023-09-05T23:24:50.574Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:50.575Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-09-05T23:24:50.787Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions 200
[debug] [2023-09-05T23:24:50.787Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2023-09-05T23:24:50.787Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/bikebus-71dd5/instances pageSize=100&pageToken=
[debug] [2023-09-05T23:24:51.340Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/bikebus-71dd5/instances 200
[debug] [2023-09-05T23:24:51.341Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/bikebus-71dd5/instances {}
[info] i  extensions: ensuring required API compute.googleapis.com is enabled... 
[debug] [2023-09-05T23:24:51.342Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/compute.googleapis.com [none]
[debug] [2023-09-05T23:24:51.342Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/compute.googleapis.com x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:52.008Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/compute.googleapis.com 200
[debug] [2023-09-05T23:24:52.008Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/bikebus-71dd5/services/compute.googleapis.com [omitted]
[info] +  extensions: required API compute.googleapis.com is enabled 
[debug] [2023-09-05T23:24:52.009Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 [none]
[debug] [2023-09-05T23:24:52.236Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 200
[debug] [2023-09-05T23:24:52.236Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/bikebus-71dd5 {"projectId":"bikebus-71dd5","projectNumber":"787807444789","displayName":"BikeBus","name":"projects/bikebus-71dd5","resources":{"hostingSite":"bikebus-71dd5","realtimeDatabaseInstance":"bikebus-71dd5-default-rtdb","storageBucket":"bikebus-71dd5.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_38b931dd-573f-4e6f-9193-1bf34495dc60"}
[debug] [2023-09-05T23:24:52.236Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:getIamPolicy [none]
[debug] [2023-09-05T23:24:52.536Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:getIamPolicy 200
[debug] [2023-09-05T23:24:52.537Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:getIamPolicy {"version":1,"etag":"BwYEQCZL9fY=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:787807444789@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.admin","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-787807444789@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/cloudscheduler.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-cloudscheduler.iam.gserviceaccount.com"]},{"role":"roles/compute.serviceAgent","members":["serviceAccount:service-787807444789@compute-system.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-787807444789@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:787807444789-compute@developer.gserviceaccount.com","serviceAccount:787807444789@cloudservices.gserviceaccount.com","serviceAccount:bikebus-71dd5@appspot.gserviceaccount.com","user:rjsheperd@gmail.com"]},{"role":"roles/eventarc.eventReceiver","members":["serviceAccount:787807444789-compute@developer.gserviceaccount.com"]},{"role":"roles/eventarc.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-eventarc.iam.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:firebase-service-account@firebase-sa-management.iam.gserviceaccount.com","serviceAccount:service-787807444789@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/firebaseappcheck.admin","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/firebaseappcheck.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-firebaseappcheck.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com","serviceAccount:github-action-628375736@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/firebasedatabase.admin","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/firebasehosting.admin","members":["serviceAccount:github-action-628375736@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-787807444789@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firebasestorage.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-firebasestorage.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:craigm26@gmail.com"]},{"role":"roles/pubsub.serviceAgent","members":["serviceAccount:service-787807444789@gcp-sa-pubsub.iam.gserviceaccount.com"]},{"role":"roles/resourcemanager.projectOwnerInvitee","members":["user:gopherkhan@gmail.com"]},{"role":"roles/run.viewer","members":["serviceAccount:github-action-628375736@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/serviceusage.apiKeysViewer","members":["serviceAccount:github-action-628375736@bikebus-71dd5.iam.gserviceaccount.com"]},{"role":"roles/storage.admin","members":["serviceAccount:firebase-adminsdk-w8v77@bikebus-71dd5.iam.gserviceaccount.com"]}]}
[debug] [2023-09-05T23:24:52.537Z] Compute Service API Agent IAM policy OK
[debug] [2023-09-05T23:24:52.538Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-09-05T23:24:52.538Z] > authorizing via signed-in user (craigm26@gmail.com)
[debug] [2023-09-05T23:24:52.538Z] [iam] checking project bikebus-71dd5 for permissions ["firebase.projects.get"]
[debug] [2023-09-05T23:24:52.538Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions [none]
[debug] [2023-09-05T23:24:52.538Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions x-goog-quota-user=projects/bikebus-71dd5
[debug] [2023-09-05T23:24:52.539Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-09-05T23:24:52.702Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions 200
[debug] [2023-09-05T23:24:52.702Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/bikebus-71dd5:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2023-09-05T23:24:52.702Z] Checking if latest AppDeveloper TOS has been accepted by bikebus-71dd5...
[info] i  extensions: By installing an extension instance onto a Firebase project, you accept the Firebase Extensions User Terms of Service: https://firebase.google.com/terms/extensions/user 
[debug] [2023-09-05T23:24:52.703Z] >>> [apiv2][query] GET https://firebaseextensionstos-pa.googleapis.com/v1/projects/bikebus-71dd5/appdevtos [none]
