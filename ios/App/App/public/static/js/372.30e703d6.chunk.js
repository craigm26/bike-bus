/*! For license information please see 372.30e703d6.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkbike_bus=globalThis.webpackChunkbike_bus||[]).push([[372],{7372:(t,e,o)=>{o.r(e),o.d(e,{iosTransitionAnimation:()=>f,shadow:()=>l});var n=o(5883),r=o(7909);const a=t=>document.querySelector(`${t}.ion-cloned-element`),l=t=>t.shadowRoot||t,s=t=>{const e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),o="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=e){const t=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=t?t.querySelector(o):null}return t.querySelector(o)},i=(t,e)=>{const o="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let n=[];if(null!=o){const t=o.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=t&&(n=t.querySelectorAll("ion-buttons"))}else n=t.querySelectorAll("ion-buttons");for(const r of n){const t=r.closest("ion-header"),o=t&&!t.classList.contains("header-collapse-condense-inactive"),n=r.querySelector("ion-back-button"),a=r.classList.contains("buttons-collapse"),l="start"===r.slot||""===r.slot;if(null!==n&&l&&(a&&o&&e||!a))return n}return null},c=(t,e,o,r,s,i,c,d,f)=>{var y,u;const p=e?`calc(100% - ${s.right+4}px)`:s.left-4+"px",b=e?"right":"left",g=e?"left":"right",S=e?"right":"left",h=(null===(y=i.textContent)||void 0===y?void 0:y.trim())===(null===(u=d.textContent)||void 0===u?void 0:u.trim()),$=f.width/c.width,T=(f.height-m)/c.height,q=h?`scale(${$}, ${T})`:`scale(${T})`,x="scale(1)",X=l(r).querySelector("ion-icon").getBoundingClientRect(),v=e?X.width/2-(X.right-s.right)+"px":s.left-X.width/2+"px",E=e?`-${window.innerWidth-s.right}px`:`${s.left}px`,A=`${f.top}px`,C=`${s.top}px`,k=o?[{offset:0,transform:`translate3d(${E}, ${C}, 0)`},{offset:1,transform:`translate3d(${v}, ${A}, 0)`}]:[{offset:0,transform:`translate3d(${v}, ${A}, 0)`},{offset:1,transform:`translate3d(${E}, ${C}, 0)`}],w=o?[{offset:0,opacity:1,transform:x},{offset:1,opacity:0,transform:q}]:[{offset:0,opacity:0,transform:q},{offset:1,opacity:1,transform:x}],B=o?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],P=(0,n.c)(),R=(0,n.c)(),L=(0,n.c)(),W=a("ion-back-button"),N=l(W).querySelector(".button-text"),z=l(W).querySelector("ion-icon");W.text=r.text,W.mode=r.mode,W.icon=r.icon,W.color=r.color,W.disabled=r.disabled,W.style.setProperty("display","block"),W.style.setProperty("position","fixed"),R.addElement(z),P.addElement(N),L.addElement(W),L.beforeStyles({position:"absolute",top:"0px",[S]:"0px"}).keyframes(k),P.beforeStyles({"transform-origin":`${b} top`}).beforeAddWrite((()=>{r.style.setProperty("display","none"),W.style.setProperty(b,p)})).afterAddWrite((()=>{r.style.setProperty("display",""),W.style.setProperty("display","none"),W.style.removeProperty(b)})).keyframes(w),R.beforeStyles({"transform-origin":`${g} center`}).keyframes(B),t.addAnimation([P,R,L])},d=(t,e,o,r,l,s,i,c)=>{var d,f;const y=e?"right":"left",u=e?`calc(100% - ${l.right}px)`:`${l.left}px`,p=`${l.top}px`,b=e?`-${window.innerWidth-c.right-8}px`:c.x-8+"px",g=c.y-2+"px",S=(null===(d=i.textContent)||void 0===d?void 0:d.trim())===(null===(f=r.textContent)||void 0===f?void 0:f.trim()),h=c.width/s.width,$=c.height/(s.height-m),T="scale(1)",q=S?`scale(${h}, ${$})`:`scale(${$})`,x=o?[{offset:0,opacity:0,transform:`translate3d(${b}, ${g}, 0) ${q}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${p}, 0) ${T}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${p}, 0) ${T}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${b}, ${g}, 0) ${q}`}],X=a("ion-title"),v=(0,n.c)();X.innerText=r.innerText,X.size=r.size,X.color=r.color,v.addElement(X),v.beforeStyles({"transform-origin":`${y} top`,height:`${l.height}px`,display:"",position:"relative",[y]:u}).beforeAddWrite((()=>{r.style.setProperty("opacity","0")})).afterAddWrite((()=>{r.style.setProperty("opacity",""),X.style.setProperty("display","none")})).keyframes(x),t.addAnimation(v)},f=(t,e)=>{var o;try{const a="cubic-bezier(0.32,0.72,0,1)",f="opacity",m="transform",y="0%",u=.8,p="rtl"===t.ownerDocument.dir,b=p?"-99.5%":"99.5%",g=p?"33%":"-33%",S=e.enteringEl,h=e.leavingEl,$="back"===e.direction,T=S.querySelector(":scope > ion-content"),q=S.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),x=S.querySelectorAll(":scope > ion-header > ion-toolbar"),X=(0,n.c)(),v=(0,n.c)();if(X.addElement(S).duration((null!==(o=e.duration)&&void 0!==o?o:0)||540).easing(e.easing||a).fill("both").beforeRemoveClass("ion-page-invisible"),h&&null!==t&&void 0!==t){const e=(0,n.c)();e.addElement(t),X.addAnimation(e)}if(T||0!==x.length||0!==q.length?(v.addElement(T),v.addElement(q)):v.addElement(S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(v),$?v.beforeClearStyles([f]).fromTo("transform",`translateX(${g})`,`translateX(${y})`).fromTo(f,u,1):v.beforeClearStyles([f]).fromTo("transform",`translateX(${b})`,`translateX(${y})`),T){const t=l(T).querySelector(".transition-effect");if(t){const e=t.querySelector(".transition-cover"),o=t.querySelector(".transition-shadow"),r=(0,n.c)(),a=(0,n.c)(),l=(0,n.c)();r.addElement(t).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(e).beforeClearStyles([f]).fromTo(f,0,.1),l.addElement(o).beforeClearStyles([f]).fromTo(f,.03,.7),r.addAnimation([a,l]),v.addAnimation([r])}}const E=S.querySelector("ion-header.header-collapse-condense"),{forward:A,backward:C}=((t,e,o,n,r)=>{const a=i(n,o),f=s(r),m=s(n),y=i(r,o),u=null!==a&&null!==f&&!o,p=null!==m&&null!==y&&o;if(u){const n=f.getBoundingClientRect(),r=a.getBoundingClientRect(),s=l(a).querySelector(".button-text"),i=s.getBoundingClientRect(),m=l(f).querySelector(".toolbar-title").getBoundingClientRect();d(t,e,o,f,n,m,s,i),c(t,e,o,a,r,s,i,f,m)}else if(p){const n=m.getBoundingClientRect(),r=y.getBoundingClientRect(),a=l(y).querySelector(".button-text"),s=a.getBoundingClientRect(),i=l(m).querySelector(".toolbar-title").getBoundingClientRect();d(t,e,o,m,n,i,a,s),c(t,e,o,y,r,a,s,m,i)}return{forward:u,backward:p}})(X,p,$,S,h);if(x.forEach((t=>{const e=(0,n.c)();e.addElement(t),X.addAnimation(e);const o=(0,n.c)();o.addElement(t.querySelector("ion-title"));const r=(0,n.c)(),a=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),s=t.closest("ion-header"),i=null===s||void 0===s?void 0:s.classList.contains("header-collapse-condense-inactive");let c;c=$?a.filter((t=>{const e=t.classList.contains("buttons-collapse");return e&&!i||!e})):a.filter((t=>!t.classList.contains("buttons-collapse"))),r.addElement(c);const d=(0,n.c)();d.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const m=(0,n.c)();m.addElement(l(t).querySelector(".toolbar-background"));const u=(0,n.c)(),S=t.querySelector("ion-back-button");if(S&&u.addElement(S),e.addAnimation([o,r,d,m,u]),r.fromTo(f,.01,1),d.fromTo(f,.01,1),$)i||o.fromTo("transform",`translateX(${g})`,`translateX(${y})`).fromTo(f,.01,1),d.fromTo("transform",`translateX(${g})`,`translateX(${y})`),u.fromTo(f,.01,1);else{E||o.fromTo("transform",`translateX(${b})`,`translateX(${y})`).fromTo(f,.01,1),d.fromTo("transform",`translateX(${b})`,`translateX(${y})`),m.beforeClearStyles([f,"transform"]);if((null===s||void 0===s?void 0:s.translucent)?m.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):m.fromTo(f,.01,"var(--opacity)"),A||u.fromTo(f,.01,1),S&&!A){const t=(0,n.c)();t.addElement(l(S).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(t)}}})),h){const t=(0,n.c)(),e=h.querySelector(":scope > ion-content"),o=h.querySelectorAll(":scope > ion-header > ion-toolbar"),a=h.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(e||0!==o.length||0!==a.length?(t.addElement(e),t.addElement(a)):t.addElement(h.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(t),$){t.beforeClearStyles([f]).fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)");const e=(0,r.g)(h);X.afterAddWrite((()=>{"normal"===X.getDirection()&&e.style.setProperty("display","none")}))}else t.fromTo("transform",`translateX(${y})`,`translateX(${g})`).fromTo(f,1,u);if(e){const o=l(e).querySelector(".transition-effect");if(o){const e=o.querySelector(".transition-cover"),r=o.querySelector(".transition-shadow"),a=(0,n.c)(),l=(0,n.c)(),s=(0,n.c)();a.addElement(o).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),l.addElement(e).beforeClearStyles([f]).fromTo(f,.1,0),s.addElement(r).beforeClearStyles([f]).fromTo(f,.7,.03),a.addAnimation([l,s]),t.addAnimation([a])}}o.forEach((t=>{const e=(0,n.c)();e.addElement(t);const o=(0,n.c)();o.addElement(t.querySelector("ion-title"));const r=(0,n.c)(),a=t.querySelectorAll("ion-buttons,[menuToggle]"),s=t.closest("ion-header"),i=null===s||void 0===s?void 0:s.classList.contains("header-collapse-condense-inactive"),c=Array.from(a).filter((t=>{const e=t.classList.contains("buttons-collapse");return e&&!i||!e}));r.addElement(c);const d=(0,n.c)(),u=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");u.length>0&&d.addElement(u);const b=(0,n.c)();b.addElement(l(t).querySelector(".toolbar-background"));const S=(0,n.c)(),h=t.querySelector("ion-back-button");if(h&&S.addElement(h),e.addAnimation([o,r,d,S,b]),X.addAnimation(e),S.fromTo(f,.99,0),r.fromTo(f,.99,0),d.fromTo(f,.99,0),$){i||o.fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)").fromTo(f,.99,0),d.fromTo("transform",`translateX(${y})`,p?"translateX(-100%)":"translateX(100%)"),b.beforeClearStyles([f,"transform"]);if((null===s||void 0===s?void 0:s.translucent)?b.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):b.fromTo(f,"var(--opacity)",0),h&&!C){const t=(0,n.c)();t.addElement(l(h).querySelector(".button-text")).fromTo("transform",`translateX(${y})`,`translateX(${(p?-124:124)+"px"})`),e.addAnimation(t)}}else i||o.fromTo("transform",`translateX(${y})`,`translateX(${g})`).fromTo(f,.99,0).afterClearStyles([m,f]),d.fromTo("transform",`translateX(${y})`,`translateX(${g})`).afterClearStyles([m,f]),S.afterClearStyles([f]),o.afterClearStyles([f]),r.afterClearStyles([f])}))}return X}catch(a){throw a}},m=10}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixjQUFjLGlCQUM5Q29JLE9BQU8sWUFBYyxjQUFhdEIsS0FBWSxlQUFjRSxHQUFTLElBQU0sS0FBTyxTQUN2RjhFLEVBQWV4RyxhQUFhOEcsRUFDaEMsQ0FDSixNQUdTN0IsR0FDRHdCLEVBQ0szRCxPQUFPLFlBQWMsY0FBYXRCLEtBQVksY0FBYU0sTUFDM0RnQixPQUFPeEIsRUFBUyxJQUFNLEdBQ3RCeUYsaUJBQWlCLENBQUN4RixFQUFXRCxJQUV0Q3FGLEVBQ0s3RCxPQUFPLFlBQWMsY0FBYXRCLEtBQVksY0FBYU0sTUFDM0RpRixpQkFBaUIsQ0FBQ3hGLEVBQVdELElBQ2xDdUMsRUFBa0JrRCxpQkFBaUIsQ0FBQ3pGLElBQ3BDbUYsRUFBYU0saUJBQWlCLENBQUN6RixJQUMvQm9GLEVBQXNCSyxpQkFBaUIsQ0FBQ3pGLEdBQzVDLEdBRVIsQ0FDQSxPQUFPcEYsQ0FDWCxDQUNBLE1BQU84SyxHQUNILE1BQU1BLENBQ1YsR0FXRXZKLEVBQTBCIiwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvY29tcG9uZW50cy9pb3MudHJhbnNpdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldElvblBhZ2VFbGVtZW50IH0gZnJvbSAnLi9pbmRleDIuanMnO1xuXG5jb25zdCBEVVJBVElPTiA9IDU0MDtcbi8vIFRPRE8oRlctMjgzMik6IHR5cGVzXG5jb25zdCBnZXRDbG9uZWRFbGVtZW50ID0gKHRhZ05hbWUpID0+IHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0YWdOYW1lfS5pb24tY2xvbmVkLWVsZW1lbnRgKTtcbn07XG5jb25zdCBzaGFkb3cgPSAoZWwpID0+IHtcbiAgICByZXR1cm4gZWwuc2hhZG93Um9vdCB8fCBlbDtcbn07XG5jb25zdCBnZXRMYXJnZVRpdGxlID0gKHJlZkVsKSA9PiB7XG4gICAgY29uc3QgdGFicyA9IHJlZkVsLnRhZ05hbWUgPT09ICdJT04tVEFCUycgPyByZWZFbCA6IHJlZkVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10YWJzJyk7XG4gICAgY29uc3QgcXVlcnkgPSAnaW9uLWNvbnRlbnQgaW9uLWhlYWRlcjpub3QoLmhlYWRlci1jb2xsYXBzZS1jb25kZW5zZS1pbmFjdGl2ZSkgaW9uLXRpdGxlLnRpdGxlLWxhcmdlJztcbiAgICBpZiAodGFicyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVRhYiA9IHRhYnMucXVlcnlTZWxlY3RvcignaW9uLXRhYjpub3QoLnRhYi1oaWRkZW4pLCAuaW9uLXBhZ2U6bm90KC5pb24tcGFnZS1oaWRkZW4pJyk7XG4gICAgICAgIHJldHVybiBhY3RpdmVUYWIgIT0gbnVsbCA/IGFjdGl2ZVRhYi5xdWVyeVNlbGVjdG9yKHF1ZXJ5KSA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByZWZFbC5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcbn07XG5jb25zdCBnZXRCYWNrQnV0dG9uID0gKHJlZkVsLCBiYWNrRGlyZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgdGFicyA9IHJlZkVsLnRhZ05hbWUgPT09ICdJT04tVEFCUycgPyByZWZFbCA6IHJlZkVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10YWJzJyk7XG4gICAgbGV0IGJ1dHRvbnNMaXN0ID0gW107XG4gICAgaWYgKHRhYnMgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBhY3RpdmVUYWIgPSB0YWJzLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10YWI6bm90KC50YWItaGlkZGVuKSwgLmlvbi1wYWdlOm5vdCguaW9uLXBhZ2UtaGlkZGVuKScpO1xuICAgICAgICBpZiAoYWN0aXZlVGFiICE9IG51bGwpIHtcbiAgICAgICAgICAgIGJ1dHRvbnNMaXN0ID0gYWN0aXZlVGFiLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1idXR0b25zJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJ1dHRvbnNMaXN0ID0gcmVmRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMnKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBidXR0b25zIG9mIGJ1dHRvbnNMaXN0KSB7XG4gICAgICAgIGNvbnN0IHBhcmVudEhlYWRlciA9IGJ1dHRvbnMuY2xvc2VzdCgnaW9uLWhlYWRlcicpO1xuICAgICAgICBjb25zdCBhY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgJiYgIXBhcmVudEhlYWRlci5jbGFzc0xpc3QuY29udGFpbnMoJ2hlYWRlci1jb2xsYXBzZS1jb25kZW5zZS1pbmFjdGl2ZScpO1xuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gYnV0dG9ucy5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgICAgY29uc3QgYnV0dG9uc0NvbGxhcHNlID0gYnV0dG9ucy5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKTtcbiAgICAgICAgY29uc3Qgc3RhcnRTbG90ID0gYnV0dG9ucy5zbG90ID09PSAnc3RhcnQnIHx8IGJ1dHRvbnMuc2xvdCA9PT0gJyc7XG4gICAgICAgIGlmIChiYWNrQnV0dG9uICE9PSBudWxsICYmIHN0YXJ0U2xvdCAmJiAoKGJ1dHRvbnNDb2xsYXBzZSAmJiBhY3RpdmVIZWFkZXIgJiYgYmFja0RpcmVjdGlvbikgfHwgIWJ1dHRvbnNDb2xsYXBzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBiYWNrQnV0dG9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGNyZWF0ZUxhcmdlVGl0bGVUcmFuc2l0aW9uID0gKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdFbCwgbGVhdmluZ0VsKSA9PiB7XG4gICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uID0gZ2V0QmFja0J1dHRvbihlbnRlcmluZ0VsLCBiYWNrRGlyZWN0aW9uKTtcbiAgICBjb25zdCBsZWF2aW5nTGFyZ2VUaXRsZSA9IGdldExhcmdlVGl0bGUobGVhdmluZ0VsKTtcbiAgICBjb25zdCBlbnRlcmluZ0xhcmdlVGl0bGUgPSBnZXRMYXJnZVRpdGxlKGVudGVyaW5nRWwpO1xuICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uID0gZ2V0QmFja0J1dHRvbihsZWF2aW5nRWwsIGJhY2tEaXJlY3Rpb24pO1xuICAgIGNvbnN0IHNob3VsZEFuaW1hdGlvbkZvcndhcmQgPSBlbnRlcmluZ0JhY2tCdXR0b24gIT09IG51bGwgJiYgbGVhdmluZ0xhcmdlVGl0bGUgIT09IG51bGwgJiYgIWJhY2tEaXJlY3Rpb247XG4gICAgY29uc3Qgc2hvdWxkQW5pbWF0aW9uQmFja3dhcmQgPSBlbnRlcmluZ0xhcmdlVGl0bGUgIT09IG51bGwgJiYgbGVhdmluZ0JhY2tCdXR0b24gIT09IG51bGwgJiYgYmFja0RpcmVjdGlvbjtcbiAgICBpZiAoc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCkge1xuICAgICAgICBjb25zdCBsZWF2aW5nTGFyZ2VUaXRsZUJveCA9IGxlYXZpbmdMYXJnZVRpdGxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25Cb3ggPSBlbnRlcmluZ0JhY2tCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvblRleHRFbCA9IHNoYWRvdyhlbnRlcmluZ0JhY2tCdXR0b24pLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpO1xuICAgICAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25UZXh0Qm94ID0gZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBsZWF2aW5nTGFyZ2VUaXRsZVRleHRFbCA9IHNoYWRvdyhsZWF2aW5nTGFyZ2VUaXRsZSkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItdGl0bGUnKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0xhcmdlVGl0bGVUZXh0Qm94ID0gbGVhdmluZ0xhcmdlVGl0bGVUZXh0RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGFuaW1hdGVMYXJnZVRpdGxlKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGVhdmluZ0xhcmdlVGl0bGUsIGxlYXZpbmdMYXJnZVRpdGxlQm94LCBsZWF2aW5nTGFyZ2VUaXRsZVRleHRCb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCk7XG4gICAgICAgIGFuaW1hdGVCYWNrQnV0dG9uKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdCYWNrQnV0dG9uLCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gsIGVudGVyaW5nQmFja0J1dHRvblRleHRFbCwgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEJveCwgbGVhdmluZ0xhcmdlVGl0bGUsIGxlYXZpbmdMYXJnZVRpdGxlVGV4dEJveCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkKSB7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZUJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25Cb3ggPSBsZWF2aW5nQmFja0J1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwgPSBzaGFkb3cobGVhdmluZ0JhY2tCdXR0b24pLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpO1xuICAgICAgICBjb25zdCBsZWF2aW5nQmFja0J1dHRvblRleHRCb3ggPSBsZWF2aW5nQmFja0J1dHRvblRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEVsID0gc2hhZG93KGVudGVyaW5nTGFyZ2VUaXRsZSkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItdGl0bGUnKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZVRleHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgYW5pbWF0ZUxhcmdlVGl0bGUocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0xhcmdlVGl0bGUsIGVudGVyaW5nTGFyZ2VUaXRsZUJveCwgZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCwgbGVhdmluZ0JhY2tCdXR0b25UZXh0RWwsIGxlYXZpbmdCYWNrQnV0dG9uVGV4dEJveCk7XG4gICAgICAgIGFuaW1hdGVCYWNrQnV0dG9uKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGVhdmluZ0JhY2tCdXR0b24sIGxlYXZpbmdCYWNrQnV0dG9uQm94LCBsZWF2aW5nQmFja0J1dHRvblRleHRFbCwgbGVhdmluZ0JhY2tCdXR0b25UZXh0Qm94LCBlbnRlcmluZ0xhcmdlVGl0bGUsIGVudGVyaW5nTGFyZ2VUaXRsZVRleHRCb3gpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmb3J3YXJkOiBzaG91bGRBbmltYXRpb25Gb3J3YXJkLFxuICAgICAgICBiYWNrd2FyZDogc2hvdWxkQW5pbWF0aW9uQmFja3dhcmQsXG4gICAgfTtcbn07XG5jb25zdCBhbmltYXRlQmFja0J1dHRvbiA9IChyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGJhY2tCdXR0b25FbCwgYmFja0J1dHRvbkJveCwgYmFja0J1dHRvblRleHRFbCwgYmFja0J1dHRvblRleHRCb3gsIGxhcmdlVGl0bGVFbCwgbGFyZ2VUaXRsZVRleHRCb3gpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IEJBQ0tfQlVUVE9OX1NUQVJUX09GRlNFVCA9IHJ0bCA/IGBjYWxjKDEwMCUgLSAke2JhY2tCdXR0b25Cb3gucmlnaHQgKyA0fXB4KWAgOiBgJHtiYWNrQnV0dG9uQm94LmxlZnQgLSA0fXB4YDtcbiAgICBjb25zdCBURVhUX09SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBjb25zdCBJQ09OX09SSUdJTl9YID0gcnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICBjb25zdCBDT05UQUlORVJfT1JJR0lOX1ggPSBydGwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRpdGxlIGFuZCBiYWNrIGJ1dHRvbiB0ZXh0cyBtYXRjaFxuICAgICAqIHRoZW4gdGhleSBzaG91bGQgb3ZlcmxhcCBkdXJpbmcgdGhlIHBhZ2UgdHJhbnNpdGlvbi5cbiAgICAgKiBJZiB0aGUgdGV4dHMgZG8gbm90IG1hdGNoIHVwIHRoZW4gdGhlIGJhY2sgYnV0dG9uIHRleHQgc2NhbGUgYWRqdXN0c1xuICAgICAqIHRvIG5vdCBwZXJmZWN0bHkgbWF0Y2ggdGhlIGxhcmdlIHRpdGxlIHRleHQgb3RoZXJ3aXNlIHRoZVxuICAgICAqIHByb3BvcnRpb25zIHdpbGwgYmUgaW5jb3JyZWN0LlxuICAgICAqIFdoZW4gdGhlIHRleHRzIG1hdGNoIHdlIHNjYWxlIGJvdGggdGhlIHdpZHRoIGFuZCBoZWlnaHQgdG8gYWNjb3VudCBmb3JcbiAgICAgKiBmb250IHdlaWdodCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB0aXRsZSBhbmQgYmFjayBidXR0b24uXG4gICAgICovXG4gICAgY29uc3QgZG9UaXRsZUFuZEJ1dHRvblRleHRzTWF0Y2ggPSAoKF9hID0gYmFja0J1dHRvblRleHRFbC50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyaW0oKSkgPT09ICgoX2IgPSBsYXJnZVRpdGxlRWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50cmltKCkpO1xuICAgIGNvbnN0IFdJRFRIX1NDQUxFID0gbGFyZ2VUaXRsZVRleHRCb3gud2lkdGggLyBiYWNrQnV0dG9uVGV4dEJveC53aWR0aDtcbiAgICAvKipcbiAgICAgKiBXZSBzdWJ0cmFjdCBhbiBvZmZzZXQgdG8gYWNjb3VudCBmb3Igc2xpZ2h0IHNpemluZy9wYWRkaW5nXG4gICAgICogZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdGl0bGUgYW5kIHRoZSBiYWNrIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBjb25zdCBIRUlHSFRfU0NBTEUgPSAobGFyZ2VUaXRsZVRleHRCb3guaGVpZ2h0IC0gTEFSR0VfVElUTEVfU0laRV9PRkZTRVQpIC8gYmFja0J1dHRvblRleHRCb3guaGVpZ2h0O1xuICAgIGNvbnN0IFRFWFRfU1RBUlRfU0NBTEUgPSBkb1RpdGxlQW5kQnV0dG9uVGV4dHNNYXRjaFxuICAgICAgICA/IGBzY2FsZSgke1dJRFRIX1NDQUxFfSwgJHtIRUlHSFRfU0NBTEV9KWBcbiAgICAgICAgOiBgc2NhbGUoJHtIRUlHSFRfU0NBTEV9KWA7XG4gICAgY29uc3QgVEVYVF9FTkRfU0NBTEUgPSAnc2NhbGUoMSknO1xuICAgIGNvbnN0IGJhY2tCdXR0b25JY29uRWwgPSBzaGFkb3coYmFja0J1dHRvbkVsKS5xdWVyeVNlbGVjdG9yKCdpb24taWNvbicpO1xuICAgIGNvbnN0IGJhY2tCdXR0b25JY29uQm94ID0gYmFja0J1dHRvbkljb25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvKipcbiAgICAgKiBXZSBuZWVkIHRvIG9mZnNldCB0aGUgY29udGFpbmVyIGJ5IHRoZSBpY29uIGRpbWVuc2lvbnNcbiAgICAgKiBzbyB0aGF0IHRoZSBiYWNrIGJ1dHRvbiB0ZXh0IGFsaWducyB3aXRoIHRoZSBsYXJnZSB0aXRsZVxuICAgICAqIHRleHQuIE90aGVyd2lzZSwgdGhlIGJhY2sgYnV0dG9uIGljb24gd2lsbCBhbGlnbiB3aXRoIHRoZVxuICAgICAqIGxhcmdlIHRpdGxlIHRleHQgYnV0IHRoZSBiYWNrIGJ1dHRvbiB0ZXh0IHdpbGwgbm90LlxuICAgICAqL1xuICAgIGNvbnN0IENPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWCA9IHJ0bFxuICAgICAgICA/IGAke2JhY2tCdXR0b25JY29uQm94LndpZHRoIC8gMiAtIChiYWNrQnV0dG9uSWNvbkJveC5yaWdodCAtIGJhY2tCdXR0b25Cb3gucmlnaHQpfXB4YFxuICAgICAgICA6IGAke2JhY2tCdXR0b25Cb3gubGVmdCAtIGJhY2tCdXR0b25JY29uQm94LndpZHRoIC8gMn1weGA7XG4gICAgY29uc3QgQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWCA9IHJ0bCA/IGAtJHt3aW5kb3cuaW5uZXJXaWR0aCAtIGJhY2tCdXR0b25Cb3gucmlnaHR9cHhgIDogYCR7YmFja0J1dHRvbkJveC5sZWZ0fXB4YDtcbiAgICAvKipcbiAgICAgKiBCYWNrIGJ1dHRvbiBjb250YWluZXIgc2hvdWxkIGJlXG4gICAgICogYWxpZ25lZCB0byB0aGUgdG9wIG9mIHRoZSB0aXRsZSBjb250YWluZXJcbiAgICAgKiBzbyB0aGUgdGV4dHMgb3ZlcmxhcCBhcyB0aGUgYmFjayBidXR0b25cbiAgICAgKiB0ZXh0IGJlZ2lucyB0byBmYWRlIGluLlxuICAgICAqL1xuICAgIGNvbnN0IENPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWSA9IGAke2xhcmdlVGl0bGVUZXh0Qm94LnRvcH1weGA7XG4gICAgLyoqXG4gICAgICogVGhlIGNsb25lZCBiYWNrIGJ1dHRvbiBzaG91bGQgYWxpZ24gZXhhY3RseSB3aXRoIHRoZVxuICAgICAqIHJlYWwgYmFjayBidXR0b24gb24gdGhlIGVudGVyaW5nIHBhZ2Ugb3RoZXJ3aXNlIHRoZXJlIHdpbGxcbiAgICAgKiBiZSBhIGxheW91dCBzaGlmdC5cbiAgICAgKi9cbiAgICBjb25zdCBDT05UQUlORVJfRU5EX1RSQU5TTEFURV9ZID0gYCR7YmFja0J1dHRvbkJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIEluIHRoZSBmb3J3YXJkIGRpcmVjdGlvbiwgdGhlIGNsb25lZCBiYWNrIGJ1dHRvblxuICAgICAqIGNvbnRhaW5lciBzaG91bGQgdHJhbnNsYXRlIGZyb20gb3ZlciB0aGUgbGFyZ2UgdGl0bGVcbiAgICAgKiB0byBvdmVyIHRoZSBiYWNrIGJ1dHRvbi4gSW4gdGhlIGJhY2t3YXJkIGRpcmVjdGlvbixcbiAgICAgKiBpdCBzaG91bGQgdHJhbnNsYXRlIGZyb20gb3ZlciB0aGUgYmFjayBidXR0b24gdG8gb3ZlclxuICAgICAqIHRoZSBsYXJnZSB0aXRsZS5cbiAgICAgKi9cbiAgICBjb25zdCBGT1JXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0NPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWH0sICR7Q09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9ZfSwgMClgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0NPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1h9LCAke0NPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1l9LCAwKWAgfSxcbiAgICBdO1xuICAgIGNvbnN0IEJBQ0tXQVJEX0NPTlRBSU5FUl9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0NPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1h9LCAke0NPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1l9LCAwKWAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7Q09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9YfSwgJHtDT05UQUlORVJfU1RBUlRfVFJBTlNMQVRFX1l9LCAwKWAgfSxcbiAgICBdO1xuICAgIGNvbnN0IENPTlRBSU5FUl9LRVlGUkFNRVMgPSBiYWNrRGlyZWN0aW9uID8gQkFDS1dBUkRfQ09OVEFJTkVSX0tFWUZSQU1FUyA6IEZPUldBUkRfQ09OVEFJTkVSX0tFWUZSQU1FUztcbiAgICAvKipcbiAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSB0ZXh0IGluIHRoZSBjbG9uZWQgYmFjayBidXR0b25cbiAgICAgKiBzaG91bGQgc3RhcnQgdG8gYmUgKHJvdWdobHkpIHRoZSBzaXplIG9mIHRoZSBsYXJnZSB0aXRsZVxuICAgICAqIGFuZCB0aGVuIHNjYWxlIGRvd24gdG8gYmUgdGhlIHNpemUgb2YgdGhlIGFjdHVhbCBiYWNrIGJ1dHRvbi5cbiAgICAgKiBUaGUgdGV4dCBzaG91bGQgYWxzbyB0cmFuc2xhdGUsIGJ1dCB0aGF0IHRyYW5zbGF0ZSBpcyBoYW5kbGVkXG4gICAgICogYnkgdGhlIGNvbnRhaW5lciBrZXlmcmFtZXMuXG4gICAgICovXG4gICAgY29uc3QgRk9SV0FSRF9URVhUX0tFWUZSQU1FUyA9IFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogVEVYVF9TVEFSVF9TQ0FMRSB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBURVhUX0VORF9TQ0FMRSB9LFxuICAgIF07XG4gICAgY29uc3QgQkFDS1dBUkRfVEVYVF9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IFRFWFRfRU5EX1NDQUxFIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IFRFWFRfU1RBUlRfU0NBTEUgfSxcbiAgICBdO1xuICAgIGNvbnN0IFRFWFRfS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEX1RFWFRfS0VZRlJBTUVTIDogRk9SV0FSRF9URVhUX0tFWUZSQU1FUztcbiAgICAvKipcbiAgICAgKiBUaGUgaWNvbiBzaG91bGQgc2NhbGUgaW4vb3V0IGluIHRoZSBzZWNvbmRcbiAgICAgKiBoYWxmIG9mIHRoZSBhbmltYXRpb24uIFRoZSBpY29uIHNob3VsZCBhbHNvXG4gICAgICogdHJhbnNsYXRlLCBidXQgdGhhdCB0cmFuc2xhdGUgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBjb250YWluZXIga2V5ZnJhbWVzLlxuICAgICAqL1xuICAgIGNvbnN0IEZPUldBUkRfSUNPTl9LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwLjYpJyB9LFxuICAgICAgICB7IG9mZnNldDogMC42LCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwLjYpJyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAnc2NhbGUoMSknIH0sXG4gICAgXTtcbiAgICBjb25zdCBCQUNLV0FSRF9JQ09OX0tFWUZSQU1FUyA9IFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyB9LFxuICAgICAgICB7IG9mZnNldDogMC4yLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICdzY2FsZSgwLjYpJyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC42KScgfSxcbiAgICBdO1xuICAgIGNvbnN0IElDT05fS0VZRlJBTUVTID0gYmFja0RpcmVjdGlvbiA/IEJBQ0tXQVJEX0lDT05fS0VZRlJBTUVTIDogRk9SV0FSRF9JQ09OX0tFWUZSQU1FUztcbiAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNvbnN0IGNsb25lZEJhY2tCdXR0b25FbCA9IGdldENsb25lZEVsZW1lbnQoJ2lvbi1iYWNrLWJ1dHRvbicpO1xuICAgIGNvbnN0IGNsb25lZEJhY2tCdXR0b25UZXh0RWwgPSBzaGFkb3coY2xvbmVkQmFja0J1dHRvbkVsKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXRleHQnKTtcbiAgICBjb25zdCBjbG9uZWRCYWNrQnV0dG9uSWNvbkVsID0gc2hhZG93KGNsb25lZEJhY2tCdXR0b25FbCkucXVlcnlTZWxlY3RvcignaW9uLWljb24nKTtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwudGV4dCA9IGJhY2tCdXR0b25FbC50ZXh0O1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5tb2RlID0gYmFja0J1dHRvbkVsLm1vZGU7XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLmljb24gPSBiYWNrQnV0dG9uRWwuaWNvbjtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuY29sb3IgPSBiYWNrQnV0dG9uRWwuY29sb3I7XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLmRpc2FibGVkID0gYmFja0J1dHRvbkVsLmRpc2FibGVkO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdibG9jaycpO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgncG9zaXRpb24nLCAnZml4ZWQnKTtcbiAgICBlbnRlcmluZ0JhY2tCdXR0b25JY29uQW5pbWF0aW9uLmFkZEVsZW1lbnQoY2xvbmVkQmFja0J1dHRvbkljb25FbCk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbi5hZGRFbGVtZW50KGNsb25lZEJhY2tCdXR0b25UZXh0RWwpO1xuICAgIGVudGVyaW5nQmFja0J1dHRvbkFuaW1hdGlvbi5hZGRFbGVtZW50KGNsb25lZEJhY2tCdXR0b25FbCk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uQW5pbWF0aW9uXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAnMHB4JyxcbiAgICAgICAgW0NPTlRBSU5FUl9PUklHSU5fWF06ICcwcHgnLFxuICAgIH0pXG4gICAgICAgIC5rZXlmcmFtZXMoQ09OVEFJTkVSX0tFWUZSQU1FUyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtURVhUX09SSUdJTl9YfSB0b3BgLFxuICAgIH0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eShURVhUX09SSUdJTl9YLCBCQUNLX0JVVFRPTl9TVEFSVF9PRkZTRVQpO1xuICAgIH0pXG4gICAgICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgYmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJycpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoVEVYVF9PUklHSU5fWCk7XG4gICAgfSlcbiAgICAgICAgLmtleWZyYW1lcyhURVhUX0tFWUZSQU1FUyk7XG4gICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvblxuICAgICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtJQ09OX09SSUdJTl9YfSBjZW50ZXJgLFxuICAgIH0pXG4gICAgICAgIC5rZXlmcmFtZXMoSUNPTl9LRVlGUkFNRVMpO1xuICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uSWNvbkFuaW1hdGlvbixcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uQW5pbWF0aW9uLFxuICAgIF0pO1xufTtcbmNvbnN0IGFuaW1hdGVMYXJnZVRpdGxlID0gKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGFyZ2VUaXRsZUVsLCBsYXJnZVRpdGxlQm94LCBsYXJnZVRpdGxlVGV4dEJveCwgYmFja0J1dHRvblRleHRFbCwgYmFja0J1dHRvblRleHRCb3gpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIC8qKlxuICAgICAqIFRoZSBob3Jpem9udGFsIHRyYW5zZm9ybSBvcmlnaW4gZm9yIHRoZSBsYXJnZSB0aXRsZVxuICAgICAqL1xuICAgIGNvbnN0IE9SSUdJTl9YID0gcnRsID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICBjb25zdCBUSVRMRV9TVEFSVF9PRkZTRVQgPSBydGwgPyBgY2FsYygxMDAlIC0gJHtsYXJnZVRpdGxlQm94LnJpZ2h0fXB4KWAgOiBgJHtsYXJnZVRpdGxlQm94LmxlZnR9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSBjbG9uZWQgbGFyZ2Ugc2hvdWxkIGFsaWduIGV4YWN0bHkgd2l0aCB0aGVcbiAgICAgKiByZWFsIGxhcmdlIHRpdGxlIG9uIHRoZSBsZWF2aW5nIHBhZ2Ugb3RoZXJ3aXNlIHRoZXJlIHdpbGxcbiAgICAgKiBiZSBhIGxheW91dCBzaGlmdC5cbiAgICAgKi9cbiAgICBjb25zdCBTVEFSVF9UUkFOU0xBVEVfWCA9ICcwcHgnO1xuICAgIGNvbnN0IFNUQVJUX1RSQU5TTEFURV9ZID0gYCR7bGFyZ2VUaXRsZUJveC50b3B9cHhgO1xuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIG9mZnNldCB0aGUgbGFyZ2UgdGl0bGUgdHJhbnNsYXRpb24gYnkuXG4gICAgICogVGhpcyBhY2NvdW50cyBmb3IgZGlmZmVyZW5jZXMgaW4gc2l6aW5nIGJldHdlZW4gdGhlIGxhcmdlXG4gICAgICogdGl0bGUgYW5kIHRoZSBiYWNrIGJ1dHRvbiBkdWUgdG8gcGFkZGluZyBhbmQgZm9udCB3ZWlnaHQuXG4gICAgICovXG4gICAgY29uc3QgTEFSR0VfVElUTEVfVFJBTlNMQVRJT05fT0ZGU0VUID0gODtcbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGVkIHRpdGxlIHNob3VsZCAocm91Z2hseSkgb3ZlcmxhcCB0aGUgYmFjayBidXR0b24uXG4gICAgICogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGJhY2sgYnV0dG9uIGFuZCB0aXRsZSBvdmVybGFwIGR1cmluZ1xuICAgICAqIHRoZSBhbmltYXRpb24uIE5vdGUgdGhhdCBzaW5jZSBib3RoIGVsZW1lbnRzIGVpdGhlciBmYWRlIGluXG4gICAgICogb3IgZmFkZSBvdXQgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBhbmltYXRpb24sIG5laXRoZXIgZWxlbWVudFxuICAgICAqIHdpbGwgYmUgZnVsbHkgdmlzaWJsZSBvbiB0b3Agb2YgdGhlIG90aGVyLiBBcyBhIHJlc3VsdCwgdGhlIG92ZXJsYXBcbiAgICAgKiBkb2VzIG5vdCBuZWVkIHRvIGJlIHBlcmZlY3QsIHNvIGFwcHJveGltYXRlIHZhbHVlcyBhcmUgYWNjZXB0YWJsZSBoZXJlLlxuICAgICAqL1xuICAgIGNvbnN0IEVORF9UUkFOU0xBVEVfWCA9IHJ0bFxuICAgICAgICA/IGAtJHt3aW5kb3cuaW5uZXJXaWR0aCAtIGJhY2tCdXR0b25UZXh0Qm94LnJpZ2h0IC0gTEFSR0VfVElUTEVfVFJBTlNMQVRJT05fT0ZGU0VUfXB4YFxuICAgICAgICA6IGAke2JhY2tCdXR0b25UZXh0Qm94LnggLSBMQVJHRV9USVRMRV9UUkFOU0xBVElPTl9PRkZTRVR9cHhgO1xuICAgIC8qKlxuICAgICAqIFRoZSB0b3Agb2YgdGhlIHNjYWxlZCBsYXJnZSB0aXRsZVxuICAgICAqIHNob3VsZCBtYXRjaCB3aXRoIHRoZSB0b3Agb2YgdGhlXG4gICAgICogYmFjayBidXR0b24gdGV4dCBlbGVtZW50LlxuICAgICAqIFdlIHN1YnRyYWN0IDJweCB0byBhY2NvdW50IGZvciB0aGUgdG9wIHBhZGRpbmdcbiAgICAgKiBvbiB0aGUgbGFyZ2UgdGl0bGUgZWxlbWVudC5cbiAgICAgKi9cbiAgICBjb25zdCBMQVJHRV9USVRMRV9UT1BfUEFERElORyA9IDI7XG4gICAgY29uc3QgRU5EX1RSQU5TTEFURV9ZID0gYCR7YmFja0J1dHRvblRleHRCb3gueSAtIExBUkdFX1RJVExFX1RPUF9QQURESU5HfXB4YDtcbiAgICAvKipcbiAgICAgKiBJbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24sIHRoZSBsYXJnZSB0aXRsZSBzaG91bGQgc3RhcnQgYXQgaXRzXG4gICAgICogbm9ybWFsIHNpemUgYW5kIHRoZW4gc2NhbGUgZG93biB0byBiZSAocm91Z2hseSkgdGhlIHNpemUgb2YgdGhlXG4gICAgICogYmFjayBidXR0b24gb24gdGhlIG90aGVyIHZpZXcuIEluIHRoZSBiYWNrd2FyZCBkaXJlY3Rpb24sIHRoZVxuICAgICAqIGxhcmdlIHRpdGxlIHNob3VsZCBzdGFydCBhdCAocm91Z2hseSkgdGhlIHNpemUgb2YgdGhlIGJhY2sgYnV0dG9uXG4gICAgICogYW5kIHRoZW4gc2NhbGUgdXAgdG8gaXRzIG9yaWdpbmFsIHNpemUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgc2luY2UgYm90aCBlbGVtZW50cyBlaXRoZXIgZmFkZSBpblxuICAgICAqIG9yIGZhZGUgb3V0IG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgYW5pbWF0aW9uLCBuZWl0aGVyIGVsZW1lbnRcbiAgICAgKiB3aWxsIGJlIGZ1bGx5IHZpc2libGUgb24gdG9wIG9mIHRoZSBvdGhlci4gQXMgYSByZXN1bHQsIHRoZSBvdmVybGFwXG4gICAgICogZG9lcyBub3QgbmVlZCB0byBiZSBwZXJmZWN0LCBzbyBhcHByb3hpbWF0ZSB2YWx1ZXMgYXJlIGFjY2VwdGFibGUgaGVyZS5cbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0aXRsZSBhbmQgYmFjayBidXR0b24gdGV4dHMgbWF0Y2hcbiAgICAgKiB0aGVuIHRoZXkgc2hvdWxkIG92ZXJsYXAgZHVyaW5nIHRoZSBwYWdlIHRyYW5zaXRpb24uXG4gICAgICogSWYgdGhlIHRleHRzIGRvIG5vdCBtYXRjaCB1cCB0aGVuIHRoZSBsYXJnZSB0aXRsZSB0ZXh0IHNjYWxlIGFkanVzdHNcbiAgICAgKiB0byBub3QgcGVyZmVjdGx5IG1hdGNoIHRoZSBiYWNrIGJ1dHRvbiB0ZXh0IG90aGVyd2lzZSB0aGVcbiAgICAgKiBwcm9wb3J0aW9ucyB3aWxsIGJlIGluY29ycmVjdC5cbiAgICAgKiBXaGVuIHRoZSB0ZXh0cyBtYXRjaCB3ZSBzY2FsZSBib3RoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IHRvIGFjY291bnQgZm9yXG4gICAgICogZm9udCB3ZWlnaHQgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdGl0bGUgYW5kIGJhY2sgYnV0dG9uLlxuICAgICAqL1xuICAgIGNvbnN0IGRvVGl0bGVBbmRCdXR0b25UZXh0c01hdGNoID0gKChfYSA9IGJhY2tCdXR0b25UZXh0RWwudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50cmltKCkpID09PSAoKF9iID0gbGFyZ2VUaXRsZUVsLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJpbSgpKTtcbiAgICBjb25zdCBXSURUSF9TQ0FMRSA9IGJhY2tCdXR0b25UZXh0Qm94LndpZHRoIC8gbGFyZ2VUaXRsZVRleHRCb3gud2lkdGg7XG4gICAgY29uc3QgSEVJR0hUX1NDQUxFID0gYmFja0J1dHRvblRleHRCb3guaGVpZ2h0IC8gKGxhcmdlVGl0bGVUZXh0Qm94LmhlaWdodCAtIExBUkdFX1RJVExFX1NJWkVfT0ZGU0VUKTtcbiAgICBjb25zdCBTVEFSVF9TQ0FMRSA9ICdzY2FsZSgxKSc7XG4gICAgY29uc3QgRU5EX1NDQUxFID0gZG9UaXRsZUFuZEJ1dHRvblRleHRzTWF0Y2ggPyBgc2NhbGUoJHtXSURUSF9TQ0FMRX0sICR7SEVJR0hUX1NDQUxFfSlgIDogYHNjYWxlKCR7SEVJR0hUX1NDQUxFfSlgO1xuICAgIGNvbnN0IEJBQ0tXQVJEU19LRVlGUkFNRVMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0VORF9UUkFOU0xBVEVfWH0sICR7RU5EX1RSQU5TTEFURV9ZfSwgMCkgJHtFTkRfU0NBTEV9YCB9LFxuICAgICAgICB7IG9mZnNldDogMC4xLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke1NUQVJUX1RSQU5TTEFURV9YfSwgJHtTVEFSVF9UUkFOU0xBVEVfWX0sIDApICR7U1RBUlRfU0NBTEV9YCB9LFxuICAgIF07XG4gICAgY29uc3QgRk9SV0FSRFNfS0VZRlJBTUVTID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjk5LFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlM2QoJHtTVEFSVF9UUkFOU0xBVEVfWH0sICR7U1RBUlRfVFJBTlNMQVRFX1l9LCAwKSAke1NUQVJUX1NDQUxFfWAsXG4gICAgICAgIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAwLjYsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7RU5EX1RSQU5TTEFURV9YfSwgJHtFTkRfVFJBTlNMQVRFX1l9LCAwKSAke0VORF9TQ0FMRX1gIH0sXG4gICAgXTtcbiAgICBjb25zdCBLRVlGUkFNRVMgPSBiYWNrRGlyZWN0aW9uID8gQkFDS1dBUkRTX0tFWUZSQU1FUyA6IEZPUldBUkRTX0tFWUZSQU1FUztcbiAgICBjb25zdCBjbG9uZWRUaXRsZUVsID0gZ2V0Q2xvbmVkRWxlbWVudCgnaW9uLXRpdGxlJyk7XG4gICAgY29uc3QgY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGNsb25lZFRpdGxlRWwuaW5uZXJUZXh0ID0gbGFyZ2VUaXRsZUVsLmlubmVyVGV4dDtcbiAgICBjbG9uZWRUaXRsZUVsLnNpemUgPSBsYXJnZVRpdGxlRWwuc2l6ZTtcbiAgICBjbG9uZWRUaXRsZUVsLmNvbG9yID0gbGFyZ2VUaXRsZUVsLmNvbG9yO1xuICAgIGNsb25lZExhcmdlVGl0bGVBbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRUaXRsZUVsKTtcbiAgICBjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uXG4gICAgICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICAgICAndHJhbnNmb3JtLW9yaWdpbic6IGAke09SSUdJTl9YfSB0b3BgLFxuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgZm9udCBzaXplIGNoYW5nZXMgd2lsbCBjYXVzZVxuICAgICAgICAgKiB0aGUgZGltZW5zaW9uIG9mIHRoZSBsYXJnZSB0aXRsZSB0byBjaGFuZ2VcbiAgICAgICAgICogd2UgbmVlZCB0byBzZXQgdGhlIGNsb25lZCB0aXRsZSBoZWlnaHRcbiAgICAgICAgICogZXF1YWwgdG8gdGhhdCBvZiB0aGUgb3JpZ2luYWwgbGFyZ2UgdGl0bGUgaGVpZ2h0LlxuICAgICAgICAgKi9cbiAgICAgICAgaGVpZ2h0OiBgJHtsYXJnZVRpdGxlQm94LmhlaWdodH1weGAsXG4gICAgICAgIGRpc3BsYXk6ICcnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgW09SSUdJTl9YXTogVElUTEVfU1RBUlRfT0ZGU0VULFxuICAgIH0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgIGxhcmdlVGl0bGVFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnb3BhY2l0eScsICcwJyk7XG4gICAgfSlcbiAgICAgICAgLmFmdGVyQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgICBsYXJnZVRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ29wYWNpdHknLCAnJyk7XG4gICAgICAgIGNsb25lZFRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIH0pXG4gICAgICAgIC5rZXlmcmFtZXMoS0VZRlJBTUVTKTtcbiAgICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uKTtcbn07XG5jb25zdCBpb3NUcmFuc2l0aW9uQW5pbWF0aW9uID0gKG5hdkVsLCBvcHRzKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IEVBU0lORyA9ICdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknO1xuICAgICAgICBjb25zdCBPUEFDSVRZID0gJ29wYWNpdHknO1xuICAgICAgICBjb25zdCBUUkFOU0ZPUk0gPSAndHJhbnNmb3JtJztcbiAgICAgICAgY29uc3QgQ0VOVEVSID0gJzAlJztcbiAgICAgICAgY29uc3QgT0ZGX09QQUNJVFkgPSAwLjg7XG4gICAgICAgIGNvbnN0IGlzUlRMID0gbmF2RWwub3duZXJEb2N1bWVudC5kaXIgPT09ICdydGwnO1xuICAgICAgICBjb25zdCBPRkZfUklHSFQgPSBpc1JUTCA/ICctOTkuNSUnIDogJzk5LjUlJztcbiAgICAgICAgY29uc3QgT0ZGX0xFRlQgPSBpc1JUTCA/ICczMyUnIDogJy0zMyUnO1xuICAgICAgICBjb25zdCBlbnRlcmluZ0VsID0gb3B0cy5lbnRlcmluZ0VsO1xuICAgICAgICBjb25zdCBsZWF2aW5nRWwgPSBvcHRzLmxlYXZpbmdFbDtcbiAgICAgICAgY29uc3QgYmFja0RpcmVjdGlvbiA9IG9wdHMuZGlyZWN0aW9uID09PSAnYmFjayc7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IGVudGVyaW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gaW9uLWNvbnRlbnQnKTtcbiAgICAgICAgY29uc3QgaGVhZGVyRWxzID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gKjpub3QoaW9uLXRvb2xiYXIpLCA6c2NvcGUgPiBpb24tZm9vdGVyID4gKicpO1xuICAgICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJFbHMgPSBlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiBpb24tdG9vbGJhcicpO1xuICAgICAgICBjb25zdCByb290QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nQ29udGVudEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICByb290QW5pbWF0aW9uXG4gICAgICAgICAgICAuYWRkRWxlbWVudChlbnRlcmluZ0VsKVxuICAgICAgICAgICAgLmR1cmF0aW9uKCgoX2EgPSBvcHRzLmR1cmF0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSB8fCBEVVJBVElPTilcbiAgICAgICAgICAgIC5lYXNpbmcob3B0cy5lYXNpbmcgfHwgRUFTSU5HKVxuICAgICAgICAgICAgLmZpbGwoJ2JvdGgnKVxuICAgICAgICAgICAgLmJlZm9yZVJlbW92ZUNsYXNzKCdpb24tcGFnZS1pbnZpc2libGUnKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItb3B0aW9uYWwtY2hhaW5cbiAgICAgICAgaWYgKGxlYXZpbmdFbCAmJiBuYXZFbCAhPT0gbnVsbCAmJiBuYXZFbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBuYXZEZWNvckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgbmF2RGVjb3JBbmltYXRpb24uYWRkRWxlbWVudChuYXZFbCk7XG4gICAgICAgICAgICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihuYXZEZWNvckFuaW1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZW50RWwgJiYgZW50ZXJpbmdUb29sQmFyRWxzLmxlbmd0aCA9PT0gMCAmJiBoZWFkZXJFbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24uYWRkRWxlbWVudChlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IC5pb24tcGFnZSwgOnNjb3BlID4gaW9uLW5hdiwgOnNjb3BlID4gaW9uLXRhYnMnKSk7IC8vIFJFVklFV1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoY29udGVudEVsKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24uYWRkRWxlbWVudChoZWFkZXJFbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGVudGVyaW5nQ29udGVudEFuaW1hdGlvbik7XG4gICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb25cbiAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKVxuICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgT0ZGX09QQUNJVFksIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW50ZXJpbmcgY29udGVudCwgZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAgICAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvblxuICAgICAgICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfUklHSFR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbCA9IHNoYWRvdyhjb250ZW50RWwpLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLWVmZmVjdCcpO1xuICAgICAgICAgICAgaWYgKGVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdEVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXJFbCA9IGVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLWNvdmVyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93RWwgPSBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbC5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1zaGFkb3cnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3QgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25Db3ZlciA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvblNoYWRvdyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdFxuICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbClcbiAgICAgICAgICAgICAgICAgICAgLmJlZm9yZVN0eWxlcyh7IG9wYWNpdHk6ICcxJywgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoeyBvcGFjaXR5OiAnJywgZGlzcGxheTogJycgfSk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXJcbiAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXJFbCkgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMCwgMC4xKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3dcbiAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQoZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93RWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDMsIDAuNyk7XG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0LmFkZEFuaW1hdGlvbihbZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXIsIGVudGVyaW5nVHJhbnNpdGlvblNoYWRvd10pO1xuICAgICAgICAgICAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvbi5hZGRBbmltYXRpb24oW2VudGVyaW5nVHJhbnNpdGlvbkVmZmVjdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVudGVyaW5nQ29udGVudEhhc0xhcmdlVGl0bGUgPSBlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1oZWFkZXIuaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlJyk7XG4gICAgICAgIGNvbnN0IHsgZm9yd2FyZCwgYmFja3dhcmQgfSA9IGNyZWF0ZUxhcmdlVGl0bGVUcmFuc2l0aW9uKHJvb3RBbmltYXRpb24sIGlzUlRMLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0VsLCBsZWF2aW5nRWwpO1xuICAgICAgICBlbnRlcmluZ1Rvb2xCYXJFbHMuZm9yRWFjaCgoZW50ZXJpbmdUb29sQmFyRWwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhciA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEVsZW1lbnQoZW50ZXJpbmdUb29sQmFyRWwpO1xuICAgICAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24oZW50ZXJpbmdUb29sQmFyKTtcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVGl0bGUgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGVudGVyaW5nVGl0bGUuYWRkRWxlbWVudChlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tdGl0bGUnKSk7IC8vIFJFVklFV1xuICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdUb29sQmFyQnV0dG9ucyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IEFycmF5LmZyb20oZW50ZXJpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMsW21lbnVUb2dnbGVdJykpO1xuICAgICAgICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gZW50ZXJpbmdUb29sQmFyRWwuY2xvc2VzdCgnaW9uLWhlYWRlcicpO1xuICAgICAgICAgICAgY29uc3QgaW5hY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgPT09IG51bGwgfHwgcGFyZW50SGVhZGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnRIZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXItY29sbGFwc2UtY29uZGVuc2UtaW5hY3RpdmUnKTtcbiAgICAgICAgICAgIGxldCBidXR0b25zVG9BbmltYXRlO1xuICAgICAgICAgICAgaWYgKGJhY2tEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBidXR0b25zVG9BbmltYXRlID0gYnV0dG9ucy5maWx0ZXIoKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvbGxhcHNlQnV0dG9uID0gYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzQ29sbGFwc2VCdXR0b24gJiYgIWluYWN0aXZlSGVhZGVyKSB8fCAhaXNDb2xsYXBzZUJ1dHRvbjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNUb0FuaW1hdGUgPSBidXR0b25zLmZpbHRlcigoYnV0dG9uKSA9PiAhYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYnV0dG9ucy1jb2xsYXBzZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJ1dHRvbnMuYWRkRWxlbWVudChidXR0b25zVG9BbmltYXRlKTtcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhckl0ZW1zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5hZGRFbGVtZW50KGVudGVyaW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+ICo6bm90KGlvbi10aXRsZSk6bm90KGlvbi1idXR0b25zKTpub3QoW21lbnVUb2dnbGVdKScpKTtcbiAgICAgICAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhckJnID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5hZGRFbGVtZW50KHNoYWRvdyhlbnRlcmluZ1Rvb2xCYXJFbCkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItYmFja2dyb3VuZCcpKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tCdXR0b25FbCA9IGVudGVyaW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrLWJ1dHRvbicpO1xuICAgICAgICAgICAgaWYgKGJhY2tCdXR0b25FbCkge1xuICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbi5hZGRFbGVtZW50KGJhY2tCdXR0b25FbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKFtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1RpdGxlLFxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFySXRlbXMsXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdUb29sQmFyQmcsXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbmFjdGl2ZUhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1RpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApO1xuICAgICAgICAgICAgICAgIC8vIGJhY2sgZGlyZWN0aW9uLCBlbnRlcmluZyBwYWdlIGhhcyBhIGJhY2sgYnV0dG9uXG4gICAgICAgICAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVudGVyaW5nIHRvb2xiYXIsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgaWYgKCFlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGVyaW5nVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfUklHSFR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKTtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWSwgJ3RyYW5zZm9ybSddKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2x1Y2VudEhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci50cmFuc2x1Y2VudDtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zbHVjZW50SGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJnLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAndmFyKC0tb3BhY2l0eSknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJnLmZyb21UbygndHJhbnNmb3JtJywgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwJSknIDogJ3RyYW5zbGF0ZVgoMTAwJSknLCAndHJhbnNsYXRlWCgwcHgpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZvcndhcmQgZGlyZWN0aW9uLCBlbnRlcmluZyBwYWdlIGhhcyBhIGJhY2sgYnV0dG9uXG4gICAgICAgICAgICAgICAgaWYgKCFmb3J3YXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGVyaW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiYWNrQnV0dG9uRWwgJiYgIWZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnRuVGV4dCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ0JhY2tCdG5UZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChzaGFkb3coYmFja0J1dHRvbkVsKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXRleHQnKSkgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgICAgICAgICAuZnJvbVRvKGB0cmFuc2Zvcm1gLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDBweCknIDogJ3RyYW5zbGF0ZVgoMTAwcHgpJywgJ3RyYW5zbGF0ZVgoMHB4KScpO1xuICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKGVudGVyaW5nQmFja0J0blRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNldHVwIGxlYXZpbmcgdmlld1xuICAgICAgICBpZiAobGVhdmluZ0VsKSB7XG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nQ29udGVudCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ0NvbnRlbnRFbCA9IGxlYXZpbmdFbC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiBpb24tY29udGVudCcpO1xuICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJFbHMgPSBsZWF2aW5nRWwucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gaW9uLWhlYWRlciA+IGlvbi10b29sYmFyJyk7XG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nSGVhZGVyRWxzID0gbGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiAqOm5vdChpb24tdG9vbGJhciksIDpzY29wZSA+IGlvbi1mb290ZXIgPiAqJyk7XG4gICAgICAgICAgICBpZiAoIWxlYXZpbmdDb250ZW50RWwgJiYgbGVhdmluZ1Rvb2xCYXJFbHMubGVuZ3RoID09PSAwICYmIGxlYXZpbmdIZWFkZXJFbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmlvbi1wYWdlLCA6c2NvcGUgPiBpb24tbmF2LCA6c2NvcGUgPiBpb24tdGFicycpKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRFbGVtZW50KGxlYXZpbmdDb250ZW50RWwpOyAvLyBSRVZJRVdcbiAgICAgICAgICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRFbGVtZW50KGxlYXZpbmdIZWFkZXJFbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obGVhdmluZ0NvbnRlbnQpO1xuICAgICAgICAgICAgaWYgKGJhY2tEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIGNvbnRlbnQsIGJhY2sgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1BhZ2UgPSBnZXRJb25QYWdlRWxlbWVudChsZWF2aW5nRWwpO1xuICAgICAgICAgICAgICAgIHJvb3RBbmltYXRpb24uYWZ0ZXJBZGRXcml0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290QW5pbWF0aW9uLmdldERpcmVjdGlvbigpID09PSAnbm9ybWFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1BhZ2Uuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIGNvbnRlbnQsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgbGVhdmluZ0NvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWApXG4gICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMSwgT0ZGX09QQUNJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlYXZpbmdDb250ZW50RWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsID0gc2hhZG93KGxlYXZpbmdDb250ZW50RWwpLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLWVmZmVjdCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uQ292ZXJFbCA9IGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0RWwucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tY292ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25TaGFkb3dFbCA9IGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0RWwucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tc2hhZG93Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uQ292ZXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25TaGFkb3cgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0RWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmVmb3JlU3R5bGVzKHsgb3BhY2l0eTogJzEnLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoeyBvcGFjaXR5OiAnJywgZGlzcGxheTogJycgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUcmFuc2l0aW9uQ292ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uQ292ZXJFbCkgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjEsIDApO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVHJhbnNpdGlvblNoYWRvd1xuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZEVsZW1lbnQobGVhdmluZ1RyYW5zaXRpb25TaGFkb3dFbCkgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjcsIDAuMDMpO1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdC5hZGRBbmltYXRpb24oW2xlYXZpbmdUcmFuc2l0aW9uQ292ZXIsIGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93XSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdDb250ZW50LmFkZEFuaW1hdGlvbihbbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZWF2aW5nVG9vbEJhckVscy5mb3JFYWNoKChsZWF2aW5nVG9vbEJhckVsKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhci5hZGRFbGVtZW50KGxlYXZpbmdUb29sQmFyRWwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUaXRsZSA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGxlYXZpbmdUaXRsZS5hZGRFbGVtZW50KGxlYXZpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvcignaW9uLXRpdGxlJykpOyAvLyBSRVZJRVdcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckJ1dHRvbnMgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBidXR0b25zID0gbGVhdmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tYnV0dG9ucyxbbWVudVRvZ2dsZV0nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRIZWFkZXIgPSBsZWF2aW5nVG9vbEJhckVsLmNsb3Nlc3QoJ2lvbi1oZWFkZXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmFjdGl2ZUhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci5jbGFzc0xpc3QuY29udGFpbnMoJ2hlYWRlci1jb2xsYXBzZS1jb25kZW5zZS1pbmFjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnNUb0FuaW1hdGUgPSBBcnJheS5mcm9tKGJ1dHRvbnMpLmZpbHRlcigoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VCdXR0b24gPSBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b25zLWNvbGxhcHNlJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNDb2xsYXBzZUJ1dHRvbiAmJiAhaW5hY3RpdmVIZWFkZXIpIHx8ICFpc0NvbGxhcHNlQnV0dG9uO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQnV0dG9ucy5hZGRFbGVtZW50KGJ1dHRvbnNUb0FuaW1hdGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFySXRlbXMgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckl0ZW1FbHMgPSBsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+ICo6bm90KGlvbi10aXRsZSk6bm90KGlvbi1idXR0b25zKTpub3QoW21lbnVUb2dnbGVdKScpO1xuICAgICAgICAgICAgICAgIGlmIChsZWF2aW5nVG9vbEJhckl0ZW1FbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmFkZEVsZW1lbnQobGVhdmluZ1Rvb2xCYXJJdGVtRWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJCZyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQmcuYWRkRWxlbWVudChzaGFkb3cobGVhdmluZ1Rvb2xCYXJFbCkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItYmFja2dyb3VuZCcpKTsgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdXR0b24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYWNrQnV0dG9uRWwgPSBsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrLWJ1dHRvbicpO1xuICAgICAgICAgICAgICAgIGlmIChiYWNrQnV0dG9uRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0JhY2tCdXR0b24uYWRkRWxlbWVudChiYWNrQnV0dG9uRWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhci5hZGRBbmltYXRpb24oW1xuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQnV0dG9ucyxcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ0JhY2tCdXR0b24sXG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQmcsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obGVhdmluZ1Rvb2xCYXIpO1xuICAgICAgICAgICAgICAgIC8vIGZhZGUgb3V0IGxlYXZpbmcgdG9vbGJhciBpdGVtc1xuICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApO1xuICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFySXRlbXMuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApO1xuICAgICAgICAgICAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5hY3RpdmVIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlYXZpbmcgdG9vbGJhciwgYmFjayBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGlzUlRMID8gJ3RyYW5zbGF0ZVgoLTEwMCUpJyA6ICd0cmFuc2xhdGVYKDEwMCUpJyk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQmcuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFksICd0cmFuc2Zvcm0nXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxlYXZpbmcgdG9vbGJhciwgYmFjayBkaXJlY3Rpb24sIGFuZCB0aGVyZSdzIG5vIGVudGVyaW5nIHRvb2xiYXJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGp1c3Qgc2xpZGUgb3V0LCBubyBmYWRpbmcgb3V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbHVjZW50SGVhZGVyID0gcGFyZW50SGVhZGVyID09PSBudWxsIHx8IHBhcmVudEhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50SGVhZGVyLnRyYW5zbHVjZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zbHVjZW50SGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmZyb21UbyhPUEFDSVRZLCAndmFyKC0tb3BhY2l0eSknLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyQmcuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWCgwcHgpJywgaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwJSknIDogJ3RyYW5zbGF0ZVgoMTAwJSknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja0J1dHRvbkVsICYmICFiYWNrd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmluZ0JhY2tCdG5UZXh0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWF2aW5nQmFja0J0blRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkRWxlbWVudChzaGFkb3coYmFja0J1dHRvbkVsKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXRleHQnKSkgLy8gUkVWSUVXXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGB0cmFuc2xhdGVYKCR7KGlzUlRMID8gLTEyNCA6IDEyNCkgKyAncHgnfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihsZWF2aW5nQmFja0J0blRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5hY3RpdmVIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC45OSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbVFJBTlNGT1JNLCBPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbVFJBTlNGT1JNLCBPUEFDSVRZXSk7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZpbmdCYWNrQnV0dG9uLmFmdGVyQ2xlYXJTdHlsZXMoW09QQUNJVFldKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1RpdGxlLmFmdGVyQ2xlYXJTdHlsZXMoW09QQUNJVFldKTtcbiAgICAgICAgICAgICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCdXR0b25zLmFmdGVyQ2xlYXJTdHlsZXMoW09QQUNJVFldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9vdEFuaW1hdGlvbjtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfVxufTtcbi8qKlxuICogVGhlIHNjYWxlIG9mIHRoZSBiYWNrIGJ1dHRvbiBkdXJpbmcgdGhlIGFuaW1hdGlvblxuICogaXMgY29tcHV0ZWQgYmFzZWQgb24gdGhlIHNjYWxlIG9mIHRoZSBsYXJnZSB0aXRsZVxuICogYW5kIHZpY2UgdmVyc2EuIEhvd2V2ZXIsIHdlIG5lZWQgdG8gYWNjb3VudCBmb3Igc2xpZ2h0XG4gKiB2YXJpYXRpb25zIGluIHRoZSBzaXplIG9mIHRoZSBsYXJnZSB0aXRsZSBkdWUgdG9cbiAqIHBhZGRpbmcgYW5kIGZvbnQgd2VpZ2h0LiBUaGlzIHZhbHVlIHNob3VsZCBiZSB1c2VkIHRvIHN1YnRyYWN0XG4gKiBhIHNtYWxsIGFtb3VudCBmcm9tIHRoZSBsYXJnZSB0aXRsZSBoZWlnaHQgd2hlbiBjb21wdXRpbmcgc2NhbGVzXG4gKiB0byBnZXQgbW9yZSBhY2N1cmF0ZSBzY2FsZSByZXN1bHRzLlxuICovXG5jb25zdCBMQVJHRV9USVRMRV9TSVpFX09GRlNFVCA9IDEwO1xuXG5leHBvcnQgeyBpb3NUcmFuc2l0aW9uQW5pbWF0aW9uLCBzaGFkb3cgfTtcbiJdLCJuYW1lcyI6WyJnZXRDbG9uZWRFbGVtZW50IiwidGFnTmFtZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNoYWRvdyIsImVsIiwic2hhZG93Um9vdCIsImdldExhcmdlVGl0bGUiLCJyZWZFbCIsInRhYnMiLCJxdWVyeSIsImFjdGl2ZVRhYiIsImdldEJhY2tCdXR0b24iLCJiYWNrRGlyZWN0aW9uIiwiYnV0dG9uc0xpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9ucyIsInBhcmVudEhlYWRlciIsImNsb3Nlc3QiLCJhY3RpdmVIZWFkZXIiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImJhY2tCdXR0b24iLCJidXR0b25zQ29sbGFwc2UiLCJzdGFydFNsb3QiLCJzbG90IiwiYW5pbWF0ZUJhY2tCdXR0b24iLCJyb290QW5pbWF0aW9uIiwicnRsIiwiYmFja0J1dHRvbkVsIiwiYmFja0J1dHRvbkJveCIsImJhY2tCdXR0b25UZXh0RWwiLCJiYWNrQnV0dG9uVGV4dEJveCIsImxhcmdlVGl0bGVFbCIsImxhcmdlVGl0bGVUZXh0Qm94IiwiX2EiLCJfYiIsIkJBQ0tfQlVUVE9OX1NUQVJUX09GRlNFVCIsInJpZ2h0IiwibGVmdCIsIlRFWFRfT1JJR0lOX1giLCJJQ09OX09SSUdJTl9YIiwiQ09OVEFJTkVSX09SSUdJTl9YIiwiZG9UaXRsZUFuZEJ1dHRvblRleHRzTWF0Y2giLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJXSURUSF9TQ0FMRSIsIndpZHRoIiwiSEVJR0hUX1NDQUxFIiwiaGVpZ2h0IiwiTEFSR0VfVElUTEVfU0laRV9PRkZTRVQiLCJURVhUX1NUQVJUX1NDQUxFIiwiVEVYVF9FTkRfU0NBTEUiLCJiYWNrQnV0dG9uSWNvbkJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkNPTlRBSU5FUl9TVEFSVF9UUkFOU0xBVEVfWCIsIkNPTlRBSU5FUl9FTkRfVFJBTlNMQVRFX1giLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiQ09OVEFJTkVSX1NUQVJUX1RSQU5TTEFURV9ZIiwidG9wIiwiQ09OVEFJTkVSX0VORF9UUkFOU0xBVEVfWSIsIkNPTlRBSU5FUl9LRVlGUkFNRVMiLCJvZmZzZXQiLCJ0cmFuc2Zvcm0iLCJURVhUX0tFWUZSQU1FUyIsIm9wYWNpdHkiLCJJQ09OX0tFWUZSQU1FUyIsImVudGVyaW5nQmFja0J1dHRvblRleHRBbmltYXRpb24iLCJjcmVhdGVBbmltYXRpb24iLCJlbnRlcmluZ0JhY2tCdXR0b25JY29uQW5pbWF0aW9uIiwiZW50ZXJpbmdCYWNrQnV0dG9uQW5pbWF0aW9uIiwiY2xvbmVkQmFja0J1dHRvbkVsIiwiY2xvbmVkQmFja0J1dHRvblRleHRFbCIsImNsb25lZEJhY2tCdXR0b25JY29uRWwiLCJ0ZXh0IiwibW9kZSIsImljb24iLCJjb2xvciIsImRpc2FibGVkIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImFkZEVsZW1lbnQiLCJiZWZvcmVTdHlsZXMiLCJwb3NpdGlvbiIsImtleWZyYW1lcyIsImJlZm9yZUFkZFdyaXRlIiwiYWZ0ZXJBZGRXcml0ZSIsInJlbW92ZVByb3BlcnR5IiwiYWRkQW5pbWF0aW9uIiwiYW5pbWF0ZUxhcmdlVGl0bGUiLCJsYXJnZVRpdGxlQm94IiwiT1JJR0lOX1giLCJUSVRMRV9TVEFSVF9PRkZTRVQiLCJTVEFSVF9UUkFOU0xBVEVfWSIsIkVORF9UUkFOU0xBVEVfWCIsIngiLCJFTkRfVFJBTlNMQVRFX1kiLCJ5IiwiU1RBUlRfU0NBTEUiLCJFTkRfU0NBTEUiLCJLRVlGUkFNRVMiLCJjbG9uZWRUaXRsZUVsIiwiY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvbiIsImlubmVyVGV4dCIsInNpemUiLCJkaXNwbGF5IiwiaW9zVHJhbnNpdGlvbkFuaW1hdGlvbiIsIm5hdkVsIiwib3B0cyIsIkVBU0lORyIsIk9QQUNJVFkiLCJUUkFOU0ZPUk0iLCJDRU5URVIiLCJPRkZfT1BBQ0lUWSIsImlzUlRMIiwib3duZXJEb2N1bWVudCIsImRpciIsIk9GRl9SSUdIVCIsIk9GRl9MRUZUIiwiZW50ZXJpbmdFbCIsImxlYXZpbmdFbCIsImRpcmVjdGlvbiIsImNvbnRlbnRFbCIsImhlYWRlckVscyIsImVudGVyaW5nVG9vbEJhckVscyIsImVudGVyaW5nQ29udGVudEFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZWFzaW5nIiwiZmlsbCIsImJlZm9yZVJlbW92ZUNsYXNzIiwidW5kZWZpbmVkIiwibmF2RGVjb3JBbmltYXRpb24iLCJsZW5ndGgiLCJiZWZvcmVDbGVhclN0eWxlcyIsImZyb21UbyIsImVudGVyaW5nVHJhbnNpdGlvbkVmZmVjdEVsIiwiZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXJFbCIsImVudGVyaW5nVHJhbnNpdGlvblNoYWRvd0VsIiwiZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0IiwiZW50ZXJpbmdUcmFuc2l0aW9uQ292ZXIiLCJlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3ciLCJhZnRlclN0eWxlcyIsImVudGVyaW5nQ29udGVudEhhc0xhcmdlVGl0bGUiLCJmb3J3YXJkIiwiYmFja3dhcmQiLCJjcmVhdGVMYXJnZVRpdGxlVHJhbnNpdGlvbiIsImVudGVyaW5nQmFja0J1dHRvbiIsImxlYXZpbmdMYXJnZVRpdGxlIiwiZW50ZXJpbmdMYXJnZVRpdGxlIiwibGVhdmluZ0JhY2tCdXR0b24iLCJzaG91bGRBbmltYXRpb25Gb3J3YXJkIiwic2hvdWxkQW5pbWF0aW9uQmFja3dhcmQiLCJsZWF2aW5nTGFyZ2VUaXRsZUJveCIsImVudGVyaW5nQmFja0J1dHRvbkJveCIsImVudGVyaW5nQmFja0J1dHRvblRleHRFbCIsImVudGVyaW5nQmFja0J1dHRvblRleHRCb3giLCJsZWF2aW5nTGFyZ2VUaXRsZVRleHRCb3giLCJlbnRlcmluZ0xhcmdlVGl0bGVCb3giLCJsZWF2aW5nQmFja0J1dHRvbkJveCIsImxlYXZpbmdCYWNrQnV0dG9uVGV4dEVsIiwibGVhdmluZ0JhY2tCdXR0b25UZXh0Qm94IiwiZW50ZXJpbmdMYXJnZVRpdGxlVGV4dEJveCIsImZvckVhY2giLCJlbnRlcmluZ1Rvb2xCYXJFbCIsImVudGVyaW5nVG9vbEJhciIsImVudGVyaW5nVGl0bGUiLCJlbnRlcmluZ1Rvb2xCYXJCdXR0b25zIiwiQXJyYXkiLCJmcm9tIiwiaW5hY3RpdmVIZWFkZXIiLCJidXR0b25zVG9BbmltYXRlIiwiZmlsdGVyIiwiYnV0dG9uIiwiaXNDb2xsYXBzZUJ1dHRvbiIsImVudGVyaW5nVG9vbEJhckl0ZW1zIiwiZW50ZXJpbmdUb29sQmFyQmciLCJ0cmFuc2x1Y2VudCIsImVudGVyaW5nQmFja0J0blRleHQiLCJsZWF2aW5nQ29udGVudCIsImxlYXZpbmdDb250ZW50RWwiLCJsZWF2aW5nVG9vbEJhckVscyIsImxlYXZpbmdIZWFkZXJFbHMiLCJsZWF2aW5nUGFnZSIsImdldElvblBhZ2VFbGVtZW50IiwiZ2V0RGlyZWN0aW9uIiwibGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbCIsImxlYXZpbmdUcmFuc2l0aW9uQ292ZXJFbCIsImxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwiLCJsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdCIsImxlYXZpbmdUcmFuc2l0aW9uQ292ZXIiLCJsZWF2aW5nVHJhbnNpdGlvblNoYWRvdyIsImxlYXZpbmdUb29sQmFyRWwiLCJsZWF2aW5nVG9vbEJhciIsImxlYXZpbmdUaXRsZSIsImxlYXZpbmdUb29sQmFyQnV0dG9ucyIsImxlYXZpbmdUb29sQmFySXRlbXMiLCJsZWF2aW5nVG9vbEJhckl0ZW1FbHMiLCJsZWF2aW5nVG9vbEJhckJnIiwibGVhdmluZ0JhY2tCdG5UZXh0IiwiYWZ0ZXJDbGVhclN0eWxlcyIsImVyciJdLCJzb3VyY2VSb290IjoiIn0=