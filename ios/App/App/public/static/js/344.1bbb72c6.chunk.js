/*! For license information please see 344.1bbb72c6.chunk.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkbike_bus=globalThis.webpackChunkbike_bus||[]).push([[344],{9344:(e,t,o)=>{o.r(t),o.d(t,{startTapClick:()=>s});var n=o(4136),i=o(1811);const s=e=>{if(void 0===n.d)return;let t,o,s,f=10*-v,p=0;const h=e.getBoolean("animated",!0)&&e.getBoolean("rippleEffect",!0),L=new WeakMap,m=e=>{f=(0,i.u)(e),E(e)},b=()=>{s&&clearTimeout(s),s=void 0,t&&(C(!1),t=void 0)},w=e=>{t||k(a(e),e)},E=e=>{k(void 0,e)},k=(e,o)=>{if(e&&e===t)return;s&&clearTimeout(s),s=void 0;const{x:n,y:a}=(0,i.v)(o);if(t){if(L.has(t))throw new Error("internal error");t.classList.contains(d)||T(t,n,a),C(!0)}if(e){const t=L.get(e);t&&(clearTimeout(t),L.delete(e)),e.classList.remove(d);const o=()=>{T(e,n,a),s=void 0};r(e)?o():s=setTimeout(o,l)}t=e},T=(e,t,n)=>{if(p=Date.now(),e.classList.add(d),!h)return;const i=c(e);null!==i&&(g(),o=i.addRipple(t,n))},g=()=>{void 0!==o&&(o.then((e=>e())),o=void 0)},C=e=>{g();const o=t;if(!o)return;const n=u-Date.now()+p;if(e&&n>0&&!r(o)){const e=setTimeout((()=>{o.classList.remove(d),L.delete(o)}),u);L.set(o,e)}else o.classList.remove(d)};n.d.addEventListener("ionGestureCaptured",b),n.d.addEventListener("touchstart",(e=>{f=(0,i.u)(e),w(e)}),!0),n.d.addEventListener("touchcancel",m,!0),n.d.addEventListener("touchend",m,!0),n.d.addEventListener("pointercancel",b,!0),n.d.addEventListener("mousedown",(e=>{if(2===e.button)return;const t=(0,i.u)(e)-v;f<t&&w(e)}),!0),n.d.addEventListener("mouseup",(e=>{const t=(0,i.u)(e)-v;f<t&&E(e)}),!0)},a=e=>{if(void 0===e.composedPath)return e.target.closest(".ion-activatable");{const t=e.composedPath();for(let e=0;e<t.length-2;e++){const o=t[e];if(!(o instanceof ShadowRoot)&&o.classList.contains("ion-activatable"))return o}}},r=e=>e.classList.contains("ion-activatable-instant"),c=e=>{if(e.shadowRoot){const t=e.shadowRoot.querySelector("ion-ripple-effect");if(t)return t}return e.querySelector("ion-ripple-effect")},d="ion-activated",l=100,u=150,v=2500}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJbUQsaUJBQWlCLGFBOUhBdkMsSUFFakIsR0FBa0IsSUFBZEEsRUFBR3dDLE9BQ0gsT0FFSixNQUFNQyxHQUFJeEMsRUFBQUEsRUFBQUEsR0FBSUQsR0FBTVAsRUFDaEJELEVBQVlpRCxHQUNabkMsRUFBWU4sRUFDaEIsSUFzSDJDLEdBQy9DWixFQUFBQSxFQUFJbUQsaUJBQWlCLFdBckhGdkMsSUFDZixNQUFNeUMsR0FBSXhDLEVBQUFBLEVBQUFBLEdBQUlELEdBQU1QLEVBQ2hCRCxFQUFZaUQsR0FDWnZDLEVBQVVGLEVBQ2QsSUFpSHVDLEVBQUssRUFHOUNRLEVBQXdCUixJQUMxQixRQUF3QmIsSUFBcEJhLEVBQUcwQyxhQWtCSCxPQUFPMUMsRUFBRzJDLE9BQU9DLFFBQVEsb0JBbEJNLENBUy9CLE1BQU1DLEVBQU83QyxFQUFHMEMsZUFDaEIsSUFBSyxJQUFJSSxFQUFJLEVBQUdBLEVBQUlELEVBQUtFLE9BQVMsRUFBR0QsSUFBSyxDQUN0QyxNQUFNckMsRUFBS29DLEVBQUtDLEdBQ2hCLEtBQU1yQyxhQUFjdUMsYUFBZXZDLEVBQUdNLFVBQVVDLFNBQVMsbUJBQ3JELE9BQU9QLENBRWYsQ0FDSixDQUdBLEVBRUVlLEVBQWFmLEdBQ1JBLEVBQUdNLFVBQVVDLFNBQVMsMkJBRTNCYyxFQUFtQnJCLElBQ3JCLEdBQUlBLEVBQUd3QyxXQUFZLENBQ2YsTUFBTUMsRUFBU3pDLEVBQUd3QyxXQUFXRSxjQUFjLHFCQUMzQyxHQUFJRCxFQUNBLE9BQU9BLENBRWYsQ0FDQSxPQUFPekMsRUFBRzBDLGNBQWMsb0JBQW9CLEVBRTFDbEMsRUFBWSxnQkFDWlMsRUFBdUIsSUFDdkJXLEVBQXFCLElBQ3JCNUMsRUFBYSIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2NvbXBvbmVudHMvaW5kZXg5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBkIGFzIGRvYyB9IGZyb20gJy4vaW5kZXg1LmpzJztcbmltcG9ydCB7IHUgYXMgbm93LCB2IGFzIHBvaW50ZXJDb29yZCB9IGZyb20gJy4vaGVscGVycy5qcyc7XG5cbmNvbnN0IHN0YXJ0VGFwQ2xpY2sgPSAoY29uZmlnKSA9PiB7XG4gICAgaWYgKGRvYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxhc3RUb3VjaCA9IC1NT1VTRV9XQUlUICogMTA7XG4gICAgbGV0IGxhc3RBY3RpdmF0ZWQgPSAwO1xuICAgIGxldCBhY3RpdmF0YWJsZUVsZTtcbiAgICBsZXQgYWN0aXZlUmlwcGxlO1xuICAgIGxldCBhY3RpdmVEZWZlcjtcbiAgICBjb25zdCB1c2VSaXBwbGVFZmZlY3QgPSBjb25maWcuZ2V0Qm9vbGVhbignYW5pbWF0ZWQnLCB0cnVlKSAmJiBjb25maWcuZ2V0Qm9vbGVhbigncmlwcGxlRWZmZWN0JywgdHJ1ZSk7XG4gICAgY29uc3QgY2xlYXJEZWZlcnMgPSBuZXcgV2Vha01hcCgpO1xuICAgIC8vIFRvdWNoIEV2ZW50c1xuICAgIGNvbnN0IG9uVG91Y2hTdGFydCA9IChldikgPT4ge1xuICAgICAgICBsYXN0VG91Y2ggPSBub3coZXYpO1xuICAgICAgICBwb2ludGVyRG93bihldik7XG4gICAgfTtcbiAgICBjb25zdCBvblRvdWNoRW5kID0gKGV2KSA9PiB7XG4gICAgICAgIGxhc3RUb3VjaCA9IG5vdyhldik7XG4gICAgICAgIHBvaW50ZXJVcChldik7XG4gICAgfTtcbiAgICBjb25zdCBvbk1vdXNlRG93biA9IChldikgPT4ge1xuICAgICAgICAvLyBJZ25vcmUgcmlnaHQgY2xpY2tzXG4gICAgICAgIGlmIChldi5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gbm93KGV2KSAtIE1PVVNFX1dBSVQ7XG4gICAgICAgIGlmIChsYXN0VG91Y2ggPCB0KSB7XG4gICAgICAgICAgICBwb2ludGVyRG93bihldik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9uTW91c2VVcCA9IChldikgPT4ge1xuICAgICAgICBjb25zdCB0ID0gbm93KGV2KSAtIE1PVVNFX1dBSVQ7XG4gICAgICAgIGlmIChsYXN0VG91Y2ggPCB0KSB7XG4gICAgICAgICAgICBwb2ludGVyVXAoZXYpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjYW5jZWxBY3RpdmUgPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVEZWZlcilcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChhY3RpdmVEZWZlcik7XG4gICAgICAgIGFjdGl2ZURlZmVyID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYWN0aXZhdGFibGVFbGUpIHtcbiAgICAgICAgICAgIHJlbW92ZUFjdGl2YXRlZChmYWxzZSk7XG4gICAgICAgICAgICBhY3RpdmF0YWJsZUVsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcG9pbnRlckRvd24gPSAoZXYpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2YXRhYmxlRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0QWN0aXZhdGVkRWxlbWVudChnZXRBY3RpdmF0YWJsZVRhcmdldChldiksIGV2KTtcbiAgICB9O1xuICAgIGNvbnN0IHBvaW50ZXJVcCA9IChldikgPT4ge1xuICAgICAgICBzZXRBY3RpdmF0ZWRFbGVtZW50KHVuZGVmaW5lZCwgZXYpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0QWN0aXZhdGVkRWxlbWVudCA9IChlbCwgZXYpID0+IHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICBpZiAoZWwgJiYgZWwgPT09IGFjdGl2YXRhYmxlRWxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZURlZmVyKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGFjdGl2ZURlZmVyKTtcbiAgICAgICAgYWN0aXZlRGVmZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9pbnRlckNvb3JkKGV2KTtcbiAgICAgICAgLy8gZGVhY3RpdmF0ZSBzZWxlY3RlZFxuICAgICAgICBpZiAoYWN0aXZhdGFibGVFbGUpIHtcbiAgICAgICAgICAgIGlmIChjbGVhckRlZmVycy5oYXMoYWN0aXZhdGFibGVFbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnRlcm5hbCBlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhY3RpdmF0YWJsZUVsZS5jbGFzc0xpc3QuY29udGFpbnMoQUNUSVZBVEVEKSkge1xuICAgICAgICAgICAgICAgIGFkZEFjdGl2YXRlZChhY3RpdmF0YWJsZUVsZSwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVBY3RpdmF0ZWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0aXZhdGVcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZlcklkID0gY2xlYXJEZWZlcnMuZ2V0KGVsKTtcbiAgICAgICAgICAgIGlmIChkZWZlcklkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlZmVySWQpO1xuICAgICAgICAgICAgICAgIGNsZWFyRGVmZXJzLmRlbGV0ZShlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKEFDVElWQVRFRCk7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRBY3RpdmF0ZWQoZWwsIHgsIHkpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZURlZmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChpc0luc3RhbnQoZWwpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGl2ZURlZmVyID0gc2V0VGltZW91dChjYWxsYmFjaywgQUREX0FDVElWQVRFRF9ERUZFUlMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFjdGl2YXRhYmxlRWxlID0gZWw7XG4gICAgfTtcbiAgICBjb25zdCBhZGRBY3RpdmF0ZWQgPSAoZWwsIHgsIHkpID0+IHtcbiAgICAgICAgbGFzdEFjdGl2YXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoQUNUSVZBVEVEKTtcbiAgICAgICAgaWYgKCF1c2VSaXBwbGVFZmZlY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHJpcHBsZUVmZmVjdCA9IGdldFJpcHBsZUVmZmVjdChlbCk7XG4gICAgICAgIGlmIChyaXBwbGVFZmZlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbW92ZVJpcHBsZSgpO1xuICAgICAgICAgICAgYWN0aXZlUmlwcGxlID0gcmlwcGxlRWZmZWN0LmFkZFJpcHBsZSh4LCB5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlUmlwcGxlID0gKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlUmlwcGxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFjdGl2ZVJpcHBsZS50aGVuKChyZW1vdmUpID0+IHJlbW92ZSgpKTtcbiAgICAgICAgICAgIGFjdGl2ZVJpcHBsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQWN0aXZhdGVkID0gKHNtb290aCkgPT4ge1xuICAgICAgICByZW1vdmVSaXBwbGUoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gYWN0aXZhdGFibGVFbGU7XG4gICAgICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZSA9IENMRUFSX1NUQVRFX0RFRkVSUyAtIERhdGUubm93KCkgKyBsYXN0QWN0aXZhdGVkO1xuICAgICAgICBpZiAoc21vb3RoICYmIHRpbWUgPiAwICYmICFpc0luc3RhbnQoYWN0aXZlKSkge1xuICAgICAgICAgICAgY29uc3QgZGVmZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZS5jbGFzc0xpc3QucmVtb3ZlKEFDVElWQVRFRCk7XG4gICAgICAgICAgICAgICAgY2xlYXJEZWZlcnMuZGVsZXRlKGFjdGl2ZSk7XG4gICAgICAgICAgICB9LCBDTEVBUl9TVEFURV9ERUZFUlMpO1xuICAgICAgICAgICAgY2xlYXJEZWZlcnMuc2V0KGFjdGl2ZSwgZGVmZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShBQ1RJVkFURUQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignaW9uR2VzdHVyZUNhcHR1cmVkJywgY2FuY2VsQWN0aXZlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgdHJ1ZSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgb25Ub3VjaEVuZCwgdHJ1ZSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgdHJ1ZSk7XG4gICAgLyoqXG4gICAgICogVGFwIGNsaWNrIGVmZmVjdHMgc3VjaCBhcyB0aGUgcmlwcGxlIGVmZmVjdCBzaG91bGRcbiAgICAgKiBub3QgaGFwcGVuIHdoZW4gc2Nyb2xsaW5nLiBGb3IgZXhhbXBsZSwgaWYgYSB1c2VyIHNjcm9sbHNcbiAgICAgKiB0aGUgcGFnZSBidXQgYWxzbyBoYXBwZW5zIHRvIGRvIGEgdG91Y2hzdGFydCBvbiBhIGJ1dHRvblxuICAgICAqIGFzIHBhcnQgb2YgdGhlIHNjcm9sbCwgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIG5vdFxuICAgICAqIGJlIGRpc3BhdGNoZWQuIFRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBvbmx5IGhhcHBlblxuICAgICAqIGlmIHRoZSBidXR0b24gaXMgYWN0aXZhdGVkIGFuZCB0aGUgcGFnZSBpcyBub3Qgc2Nyb2xsaW5nLlxuICAgICAqXG4gICAgICogcG9pbnRlcmNhbmNlbCBpcyBkaXNwYXRjaGVkIG9uIGEgZ2VzdHVyZSB3aGVuIHNjcm9sbGluZ1xuICAgICAqIHN0YXJ0cywgc28gdGhpcyBsZXRzIHVzIGF2b2lkIGhhdmluZyB0byBsaXN0ZW4gZm9yXG4gICAgICogaW9uLWNvbnRlbnQncyBzY3JvbGwgZXZlbnRzLlxuICAgICAqL1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgY2FuY2VsQWN0aXZlLCB0cnVlKTtcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIHRydWUpO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCB0cnVlKTtcbn07XG4vLyBUT0RPKEZXLTI4MzIpOiB0eXBlXG5jb25zdCBnZXRBY3RpdmF0YWJsZVRhcmdldCA9IChldikgPT4ge1xuICAgIGlmIChldi5jb21wb3NlZFBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogY29tcG9zZWRQYXRoIHJldHVybnMgRXZlbnRUYXJnZXRbXS4gSG93ZXZlcixcbiAgICAgICAgICogb2JqZWN0cyBvdGhlciB0aGFuIEVsZW1lbnQgY2FuIGJlIHRhcmdldHMgdG9vLlxuICAgICAgICAgKiBGb3IgZXhhbXBsZSwgQXVkaW9Db250ZXh0IGNhbiBiZSBhIHRhcmdldC4gSW4gdGhpc1xuICAgICAgICAgKiBjYXNlLCB3ZSBrbm93IHRoYXQgdGhlIGV2ZW50IGlzIGEgVUlFdmVudCBzbyB3ZVxuICAgICAgICAgKiBjYW4gYXNzdW1lIHRoYXQgdGhlIHBhdGggd2lsbCBjb250YWluIGVpdGhlciBFbGVtZW50XG4gICAgICAgICAqIG9yIFNoYWRvd1Jvb3QuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBwYXRoID0gZXYuY29tcG9zZWRQYXRoKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAyOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gcGF0aFtpXTtcbiAgICAgICAgICAgIGlmICghKGVsIGluc3RhbmNlb2YgU2hhZG93Um9vdCkgJiYgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpb24tYWN0aXZhdGFibGUnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV2LnRhcmdldC5jbG9zZXN0KCcuaW9uLWFjdGl2YXRhYmxlJyk7XG4gICAgfVxufTtcbmNvbnN0IGlzSW5zdGFudCA9IChlbCkgPT4ge1xuICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1hY3RpdmF0YWJsZS1pbnN0YW50Jyk7XG59O1xuY29uc3QgZ2V0UmlwcGxlRWZmZWN0ID0gKGVsKSA9PiB7XG4gICAgaWYgKGVsLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgY29uc3QgcmlwcGxlID0gZWwuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdpb24tcmlwcGxlLWVmZmVjdCcpO1xuICAgICAgICBpZiAocmlwcGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmlwcGxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCdpb24tcmlwcGxlLWVmZmVjdCcpO1xufTtcbmNvbnN0IEFDVElWQVRFRCA9ICdpb24tYWN0aXZhdGVkJztcbmNvbnN0IEFERF9BQ1RJVkFURURfREVGRVJTID0gMTAwO1xuY29uc3QgQ0xFQVJfU1RBVEVfREVGRVJTID0gMTUwO1xuY29uc3QgTU9VU0VfV0FJVCA9IDI1MDA7XG5cbmV4cG9ydCB7IHN0YXJ0VGFwQ2xpY2sgfTtcbiJdLCJuYW1lcyI6WyJzdGFydFRhcENsaWNrIiwiY29uZmlnIiwidW5kZWZpbmVkIiwiZG9jIiwiYWN0aXZhdGFibGVFbGUiLCJhY3RpdmVSaXBwbGUiLCJhY3RpdmVEZWZlciIsImxhc3RUb3VjaCIsIk1PVVNFX1dBSVQiLCJsYXN0QWN0aXZhdGVkIiwidXNlUmlwcGxlRWZmZWN0IiwiZ2V0Qm9vbGVhbiIsImNsZWFyRGVmZXJzIiwiV2Vha01hcCIsIm9uVG91Y2hFbmQiLCJldiIsIm5vdyIsInBvaW50ZXJVcCIsImNhbmNlbEFjdGl2ZSIsImNsZWFyVGltZW91dCIsInJlbW92ZUFjdGl2YXRlZCIsInBvaW50ZXJEb3duIiwic2V0QWN0aXZhdGVkRWxlbWVudCIsImdldEFjdGl2YXRhYmxlVGFyZ2V0IiwiZWwiLCJ4IiwieSIsInBvaW50ZXJDb29yZCIsImhhcyIsIkVycm9yIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJBQ1RJVkFURUQiLCJhZGRBY3RpdmF0ZWQiLCJkZWZlcklkIiwiZ2V0IiwiZGVsZXRlIiwicmVtb3ZlIiwiY2FsbGJhY2siLCJpc0luc3RhbnQiLCJzZXRUaW1lb3V0IiwiQUREX0FDVElWQVRFRF9ERUZFUlMiLCJEYXRlIiwiYWRkIiwicmlwcGxlRWZmZWN0IiwiZ2V0UmlwcGxlRWZmZWN0IiwicmVtb3ZlUmlwcGxlIiwiYWRkUmlwcGxlIiwidGhlbiIsInNtb290aCIsImFjdGl2ZSIsInRpbWUiLCJDTEVBUl9TVEFURV9ERUZFUlMiLCJzZXQiLCJhZGRFdmVudExpc3RlbmVyIiwiYnV0dG9uIiwidCIsImNvbXBvc2VkUGF0aCIsInRhcmdldCIsImNsb3Nlc3QiLCJwYXRoIiwiaSIsImxlbmd0aCIsIlNoYWRvd1Jvb3QiLCJzaGFkb3dSb290IiwicmlwcGxlIiwicXVlcnlTZWxlY3RvciJdLCJzb3VyY2VSb290IjoiIn0=